[
  {
    "objectID": "topics/Shiny/lab_shiny3.html",
    "href": "topics/Shiny/lab_shiny3.html",
    "title": "RShiny Lab: Part III",
    "section": "",
    "text": "In this section of the lab, we will try to go into making an app step-by-step. The idea basically is to first have a plan/backbone of the page that we want and then to go on populating the page in a step-wise manner!"
  },
  {
    "objectID": "topics/Shiny/lab_shiny3.html#layout",
    "href": "topics/Shiny/lab_shiny3.html#layout",
    "title": "RShiny Lab: Part III",
    "section": "5.1 Layout",
    "text": "5.1 Layout\nWe need to first have a plan for the app page, which UI elements to include and how they will be laid out and structured. My plan is as shown in the preview image.\n\nThere is a horizontal top bar for the title and two columns below. The left column will contain the input widgets and control. The right column will contain the plot output. Since, this is a commonly used layout, it is available as a predefined function in shiny called pageWithSidebar(). It takes three arguments headerPanel, sidebarPanel and mainPanel which is self explanatory.\n\nlibrary(shiny)\nlibrary(tidyverse)\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(cowplot)\n\ncov_data &lt;- read.table(\"data/shiny_app_data.csv\", sep = \",\", header = T)\ncov_data$date &lt;- as.Date(cov_data$date)\n\n\nshinyApp(\nui=fluidPage(\n  pageWithSidebar(\n    headerPanel(),\n    sidebarPanel(),\n    mainPanel())\n  ),\nserver=function(input,output){}\n)"
  },
  {
    "objectID": "topics/Shiny/lab_shiny3.html#ui",
    "href": "topics/Shiny/lab_shiny3.html#ui",
    "title": "RShiny Lab: Part III",
    "section": "5.2 UI",
    "text": "5.2 UI\nThen we fill in the panels with widgets and contents. The way I planned this app is to have two input values from user which are the countries to visualize and the duration, as I mentioned earlier. In addition I would also like to have the Update button to control the reactivity of the plots as we have learnt in the earlier session. So, the plots should update only when the Update button is pressed. I would also like to give the user the option to download these animated plots as pdf image.\nLet us start with including the countries as a checkboxGroupInput() input widget. It is self-explanatory that the countries you choose in this group can be accessed in the server() to subset the data just for these countries. The function comes with its own header label, followed by choices and you can use selected to have the default choice.\n\nshinyApp(\n    ui=fluidPage(\n        pageWithSidebar(\n            headerPanel(title=\"Personalized Visualization of the SARS-Cov-II Pandemic\",windowTitle=\"Covid Data\"),\n            sidebarPanel(\n                checkboxGroupInput(\"countries\", label = h3(\"Countries\"), \n                                   choices = list(\"France\" = \"France\", \"Germany\" = \"Germany\", \"India\" = \"India\", \"Sweden\" = \"Sweden\", \"UK\" = \"UK\", \"USA\" = \"USA\"),\n                                   selected = \"USA\"),\n            ),\n            mainPanel())\n    ),\n    server=function(input,output){}\n)\n\n\nNow that we got the countries-input sorted out, let us now add the duration of the period, a user would like to visualize the data for. We can add this by doing the following:\n\nshinyApp(\n    ui=fluidPage(\n        pageWithSidebar(\n            headerPanel(title=\"Personalized Visualization of the SARS-Cov-II Pandemic\",windowTitle=\"Covid Data\"),\n            sidebarPanel(\n                checkboxGroupInput(\"countries\", label = h3(\"Countries\"), \n                                   choices = list(\"France\" = \"France\", \"Germany\" = \"Germany\", \"India\" = \"India\", \"Sweden\" = \"Sweden\", \"UK\" = \"UK\", \"USA\" = \"USA\"),\n                                   selected = \"USA\"),\n                h3(\"Duration\"),\n                fluidRow(\n                    column(6,style=list(\"padding-right: 5px;\"),\n                           dateInput(\"in_duration_date_start\",\"From\",value=\"2020-02-15\")\n                    ),\n                    column(6,style=list(\"padding-left: 5px;\"),\n                           dateInput(\"in_duration_date_end\",\"To\",value=\"2021-07-25\")\n                    )\n                )\n            ),\n            mainPanel())\n    ),\n    server=function(input,output){}\n)\n\n\nWe have defined a part of the side bar panel with a title Duration. fluidRow() is an html tag used to create rows. Above, in the side bar panel, a row is defined and two columns are defined inside. Each column is filled with date input widgets for start and end dates. We use the columns here to place date input widgets side by side. To place widgets one below the other, the columns can simply be removed.\nNow let us add the last part of the sidebar panel where we add actionButtons for us to be able to do Update and Download.\n\nshinyApp(\n    ui=fluidPage(\n        pageWithSidebar(\n            headerPanel(title=\"Personalized Visualization of the SARS-Cov-II Pandemic\",windowTitle=\"Covid Data\"),\n            sidebarPanel(\n                checkboxGroupInput(\"countries\", label = h3(\"Countries\"), \n                                   choices = list(\"France\" = \"France\", \"Germany\" = \"Germany\", \"India\" = \"India\", \"Sweden\" = \"Sweden\", \"UK\" = \"UK\", \"USA\" = \"USA\"),\n                                   selected = \"USA\"),\n                h3(\"Duration\"),\n                fluidRow(\n                    column(6,style=list(\"padding-right: 5px;\"),\n                           dateInput(\"in_duration_date_start\",\"From\",value=\"2020-02-15\")\n                    ),\n                    column(6,style=list(\"padding-left: 5px;\"),\n                           dateInput(\"in_duration_date_end\",\"To\",value=\"2021-07-25\")\n                    )\n                ),\n                h3(\"Plot controls\"),\n                fluidRow(\n                    column(6,style=list(\"padding-right: 5px;\"),\n                           actionButton(\"click\", \"Update\")\n                    ),\n                    column(6,style=list(\"padding-left: 5px;\"),\n                           downloadButton('download', 'Download')\n                    ),\n                )\n            ),\n            mainPanel()\n            )\n    ),\n    server=function(input,output){}\n)\n\n\nNow we can finalize the UI part by adding the interface for the plotOutput()s. So basically we want two rows with two columns. We can add this by using fluidRow() as we have done before:\n\nshinyApp(\n    ui=fluidPage(\n        pageWithSidebar(\n            headerPanel(title=\"Personalized Visualization of the SARS-Cov-II Pandemic\",windowTitle=\"Covid Data\"),\n            sidebarPanel(\n                checkboxGroupInput(\"countries\", label = h3(\"Countries\"), \n                                   choices = list(\"France\" = \"France\", \"Germany\" = \"Germany\", \"India\" = \"India\", \"Sweden\" = \"Sweden\", \"UK\" = \"UK\", \"USA\" = \"USA\"),\n                                   selected = \"USA\"),\n                h3(\"Duration\"),\n                fluidRow(\n                    column(6,style=list(\"padding-right: 5px;\"),\n                           dateInput(\"in_duration_date_start\",\"From\",value=\"2020-02-15\")\n                    ),\n                    column(6,style=list(\"padding-left: 5px;\"),\n                           dateInput(\"in_duration_date_end\",\"To\",value=\"2021-07-25\")\n                    )\n                ),\n                h3(\"Plot controls\"),\n                fluidRow(\n                    column(6,style=list(\"padding-right: 5px;\"),\n                           actionButton(\"click\", \"Update\")\n                    ),\n                    column(6,style=list(\"padding-left: 5px;\"),\n                           downloadButton('download', 'Download')\n                    ),\n                )\n            ),\n            mainPanel(\n                fluidRow(\n                    column(width = 6, plotOutput(\"casesPlot\",  width=\"100%\")),\n                    column(width = 6, plotOutput(\"hospitalPlot\",  width=\"100%\"))\n                ),\n                fluidRow(\n                    column(width = 6, plotOutput(\"fatalPlot\",  width=\"100%\")),\n                    column(width = 6, plotOutput(\"vaccinePlot\",  width=\"100%\"))\n                )\n            )\n            )\n    ),\n    server=function(input,output){}\n)\n\nThe UI is set for now! Now let us move-on to the server part and then eventually figure-out if we have to come back to the UI part again for changes!"
  },
  {
    "objectID": "topics/Shiny/lab_shiny3.html#server",
    "href": "topics/Shiny/lab_shiny3.html#server",
    "title": "RShiny Lab: Part III",
    "section": "5.3 Server",
    "text": "5.3 Server\nThe first thing that I would like to do here is to make sure that the inputs we get from the user are valid for our data!\n\n5.3.1 Error validation\nAs I have mentioned before, we have two inputs from the user and let us start with the country! We need to make sure that the user has selected at-least one country! For this, I would also make some changes in the ui part where I would like to show an error message, when the user has not selected a country! For this I would use conditionalPanel() where the panel appears if the condition is satisfied. Similarly, we want the selected duration to be between 2020-02-15 and 2021-07-25, so I would create another conditionalPanel() for this input. So, the ui part of the app would look like below:\n\n ui=fluidPage(\n        pageWithSidebar(\n            headerPanel(title=\"Personalized Visualization of the SARS-Cov-II Pandemic\",windowTitle=\"Covid Data\"),\n            sidebarPanel(\n                checkboxGroupInput(\"countries\", label = h3(\"Countries\"), \n                                   choices = list(\"France\" = \"France\", \"Germany\" = \"Germany\", \"India\" = \"India\", \"Sweden\" = \"Sweden\", \"UK\" = \"UK\", \"USA\" = \"USA\"),\n                                   selected = \"USA\"),\n                conditionalPanel(condition = \"input.countries == ''\",\n                                 textOutput('error_country')),\n                h3(\"Duration\"),\n                fluidRow(\n                    column(6,style=list(\"padding-right: 5px;\"),\n                           dateInput(\"in_duration_date_start\",\"From\",value=\"2020-02-15\")\n                    ),\n                    column(6,style=list(\"padding-left: 5px;\"),\n                           dateInput(\"in_duration_date_end\",\"To\",value=\"2021-07-25\")\n                    )\n                ),\n                conditionalPanel(condition = \"input.in_duration_date_start &lt; as.Date('2020-02-15') || input.in_duration_date_end &lt; as.Date('2020-02-15') || input.in_duration_date_start &gt; as.Date('2021-07-25') || input.in_duration_date_end &gt; as.Date('2021-07-25')\",\n                                 textOutput('error_duration')),\n                h3(\"Plot controls\"),\n                fluidRow(\n                    column(6,style=list(\"padding-right: 5px;\"),\n                           actionButton(\"click\", \"Update\")\n                    ),\n                    column(6,style=list(\"padding-left: 5px;\"),\n                           downloadButton('download', 'Download')\n                    ),\n                )\n            ),\n            mainPanel(\n                fluidRow(\n                    column(width = 6, plotOutput(\"casesPlot\",  width=\"100%\")),\n                    column(width = 6, plotOutput(\"hospitalPlot\",  width=\"100%\"))\n                ),\n                fluidRow(\n                    column(width = 6, plotOutput(\"fatalPlot\",  width=\"100%\")),\n                    column(width = 6, plotOutput(\"vaccinePlot\",  width=\"100%\"))\n                )\n            )\n          )\n)\n\n Note the syntax with input.countries inside the conditionalPanel(). This is different from how you would normally use it as input$countries within the server.\nWe will render the output error message in the server part when those above mentioned conditions satisfy. This I would do it in combination with the observeEvent() function in relation to our Update button in the sidebar! So, as soon as that button is clicked, we need to check if the input values are good! The actual error validation part here I do it with the combination of functions validate() and need(). So, the server would like:\n\nserver=function(input,output){\n        \n        observeEvent(input$click, {\n            output$error_country &lt;- renderText({\n                shiny::validate(\n                    shiny::need(input$countries != '', 'You must select at-least one country'\n                    )\n                )\n            })\n            output$error_duration &lt;- renderText({\n                shiny::validate(\n                    shiny::need(input$in_duration_date_start &gt; as.Date('2020-02-14') & input$in_duration_date_end &gt; as.Date('2020-02-14') & input$in_duration_date_start &lt; as.Date('2021-07-26') & input$in_duration_date_end &lt; as.Date('2021-07-26'), \n                                'You must select the duration between 2020-02-15 and 2021-07-25'\n                    )\n                )\n            })\n            shiny::req(input$countries)\n        })\n}\n\n Note that the conditional statement with need() is a little different from the conditionalPanel(). The conditions we use in these two functions are basically the negation of each other. In need(): the options as we want and in conditionalPanel(): the options are suppose to check for the wrong values.\nI include req() as well for the countries, so that the plots are not made when there are no countries specified.\n\n\n5.3.2 Subset and plots\nWe subset the data of our interest simply using the filter() function from dplyr package.\n\nserver=function(input,output){\n        \n        observeEvent(input$click, {\n            output$error_country &lt;- renderText({\n                shiny::validate(\n                    shiny::need(input$countries != '', 'You must select at-least one country'\n                    )\n                )\n            })\n            output$error_duration &lt;- renderText({\n                shiny::validate(\n                    shiny::need(input$in_duration_date_start &gt; as.Date('2020-02-14') & input$in_duration_date_end &gt; as.Date('2020-02-14') & input$in_duration_date_start &lt; as.Date('2021-07-26') & input$in_duration_date_end &lt; as.Date('2021-07-26'), \n                                'You must select the duration between 2020-02-15 and 2021-07-25'\n                    )\n                )\n            })\n            shiny::req(input$countries)\n            \n            subset_covdata &lt;- cov_data %&gt;%\n                filter(location %in% input$countries) %&gt;%\n                filter(date &gt;= input$in_duration_date_start) %&gt;%\n                filter(date &lt;= input$in_duration_date_end)\n\n        })\n    }\n\nThen we use our plotting strategy that we already looked at before! We simply use that code for the four different plots that we want to populate in the mainPanel(). As you would expect, we will use the renderPlot() function to render these plots on the panel. So, finally we should have a properly working app based on the code below:\n\nlibrary(shiny)\nlibrary(tidyverse)\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(cowplot)\n\ncov_data &lt;- read.table(\"data/shiny_app_data.csv\", sep = \",\", header = T)\ncov_data$date &lt;- as.Date(cov_data$date)\n\nvalfn_country &lt;- function(x) if(is.null(x) | is.na(x) | x==\"\") return(\"You must select at-least one country\")\nvalfn_date &lt;- function(x) if(x &lt; as.Date('2020-02-15') | x &gt; as.Date('2021-07-25')) return(\"You must select the 'from' and 'to' dates between 2020-02-15 and 2021-07-25\")\n\nshinyApp(\n    ui=fluidPage(\n        pageWithSidebar(\n            headerPanel(title=\"Personalized Visualization of the SARS-Cov-II Pandemic\",windowTitle=\"Covid Data\"),\n            sidebarPanel(\n                checkboxGroupInput(\"countries\", label = h3(\"Countries\"), \n                                   choices = list(\"France\" = \"France\", \"Germany\" = \"Germany\", \"India\" = \"India\", \"Sweden\" = \"Sweden\", \"UK\" = \"UK\", \"USA\" = \"USA\"),\n                                   selected = \"France\"),\n                conditionalPanel(condition = \"input.countries == ''\",\n                                 textOutput('error_country')),\n                h3(\"Duration\"),\n                fluidRow(\n                    column(6,style=list(\"padding-right: 5px;\"),\n                           dateInput(\"in_duration_date_start\",\"From\",value=\"2020-02-15\")\n                    ),\n                    column(6,style=list(\"padding-left: 5px;\"),\n                           dateInput(\"in_duration_date_end\",\"To\",value=\"2021-07-25\")\n                    )\n                ),\n                conditionalPanel(condition = \"input.in_duration_date_start &lt; as.Date('2020-02-15') || input.in_duration_date_end &lt; as.Date('2020-02-15') || input.in_duration_date_start &gt; as.Date('2021-07-25') || input.in_duration_date_end &gt; as.Date('2021-07-25')\",\n                                 textOutput('error_duration')),\n                h3(\"Plot controls\"),\n                fluidRow(\n                    column(6,style=list(\"padding-right: 5px;\"),\n                           actionButton(\"click\", \"Update\")\n                    ),\n                    column(6,style=list(\"padding-left: 5px;\"),\n                           downloadButton('download', 'Download')\n                    ),\n                )\n            ),\n            mainPanel(\n                fluidRow(\n                    column(width = 6, plotOutput(\"casesPlot\",  width=\"100%\")),\n                    column(width = 6, plotOutput(\"hospitalPlot\",  width=\"100%\"))\n                ),\n                fluidRow(\n                    column(width = 6, plotOutput(\"fatalPlot\",  width=\"100%\")),\n                    column(width = 6, plotOutput(\"vaccinePlot\",  width=\"100%\"))\n                )\n            )\n            )\n    ),\n    server=function(input,output){\n        \n        observeEvent(input$click, {\n            output$error_country &lt;- renderText({\n                shiny::validate(\n                    shiny::need(input$countries != '', 'You must select at-least one country'\n                    )\n                )\n            })\n            output$error_duration &lt;- renderText({\n                shiny::validate(\n                    shiny::need(input$in_duration_date_start &gt; as.Date('2020-02-14') & input$in_duration_date_end &gt; as.Date('2020-02-14') & input$in_duration_date_start &lt; as.Date('2021-07-26') & input$in_duration_date_end &lt; as.Date('2021-07-26'), \n                                'You must select the duration between 2020-02-15 and 2021-07-25'\n                    )\n                )\n            })\n            shiny::req(input$countries)\n            \n            subset_covdata &lt;- cov_data %&gt;%\n                filter(location %in% input$countries) %&gt;%\n                filter(date &gt;= input$in_duration_date_start) %&gt;%\n                filter(date &lt;= input$in_duration_date_end)\n            \n            p1 &lt;- subset_covdata %&gt;%\n                ggplot(aes(x= date, y=new_cases_per_million, group = location, color = location)) +\n                geom_line() +\n                theme_bw() +\n                scale_x_date(date_labels = \"%b-%Y\") \n            \n            output$casesPlot &lt;- renderPlot({p1})\n            \n            p2 &lt;- subset_covdata %&gt;%\n                ggplot(aes(x= date, y=icu_patients_per_million, group = location, color = location)) +\n                geom_line() +\n                theme_bw() +\n                scale_x_date(date_labels = \"%b-%Y\") \n            \n            output$hospitalPlot &lt;- renderPlot({p2})\n            \n            p3 &lt;- subset_covdata %&gt;%\n                ggplot(aes(x= date, y=new_deaths_per_million, group = location, color = location)) +\n                geom_line() +\n                theme_bw() +\n                scale_x_date(date_labels = \"%b-%Y\") \n            \n            output$fatalPlot &lt;- renderPlot({p3})\n            \n            p4 &lt;- subset_covdata %&gt;%\n                ggplot(aes(x= date, y=people_vaccinated_per_hundred, group = location, color = location)) +\n                geom_line() +\n                theme_bw() +\n                scale_x_date(date_labels = \"%b-%Y\") \n            \n            output$vaccinePlot &lt;- renderPlot({p4})\n\n                \n        })\n        \n        \n    }\n)\n\n\nNow let us make these plots look a little bit more prettier!\n\np1 &lt;- subset_covdata %&gt;%\n                ggplot(aes(x= date, y=new_cases_per_million, group = location, color = location)) +\n                geom_line(show.legend = F) +\n                theme_bw(base_size = 16) +\n                scale_x_date(date_labels = \"%b-%Y\") +\n                xlab(label = \"Time-Line\") +\n                theme(axis.title.y = element_blank(), axis.title.x = element_blank(), legend.title = element_blank()) +\n                ggtitle(label = \"New cases per million\")\n            \n            \n            output$casesPlot &lt;- renderPlot({p1})\n            \n            p2 &lt;- subset_covdata %&gt;%\n                ggplot(aes(x= date, y=icu_patients_per_million, group = location, color = location)) +\n                geom_line() +\n                theme_bw(base_size = 16) +\n                scale_x_date(date_labels = \"%b-%Y\") +\n                xlab(label = \"Time-Line\") +\n                theme(axis.title.y = element_blank(), axis.title.x = element_blank(), legend.title = element_blank()) +\n                ggtitle(label = \"ICU admissions per million\")\n            \n            output$hospitalPlot &lt;- renderPlot({p2})\n            \n            p3 &lt;- subset_covdata %&gt;%\n                ggplot(aes(x= date, y=new_deaths_per_million, group = location, color = location)) +\n                geom_line(show.legend = F) +\n                theme_bw(base_size = 16) +\n                scale_x_date(date_labels = \"%b-%Y\") +\n                xlab(label = \"Time-Line\") +\n                theme(axis.title.y = element_blank(), legend.title = element_blank()) +\n                ggtitle(label = \"Fatalities per million\")\n            \n            output$fatalPlot &lt;- renderPlot({p3})\n            \n            p4 &lt;- subset_covdata %&gt;%\n                ggplot(aes(x= date, y=people_vaccinated_per_hundred, group = location, color = location)) +\n                geom_line() +\n                theme_bw(base_size = 16) +\n                scale_x_date(date_labels = \"%b-%Y\") +\n                xlab(label = \"Time-Line\") +\n                theme(axis.title.y = element_blank(), legend.title = element_blank()) +\n                ggtitle(label = \"Percent vaccinated\")\n            \n            output$vaccinePlot &lt;- renderPlot({p4})\n\n\n\n5.3.3 Downloading\nNow let us look into the last part of the app, which is to download these plots together in a PDF document. For this we use the function downloadHandler().\n\nserver=function(input,output){\n        \n        observeEvent(input$click, {\n            output$error_country &lt;- renderText({\n                shiny::validate(\n                    shiny::need(input$countries != '', 'You must select at-least one country'\n                    )\n                )\n            })\n            output$error_duration &lt;- renderText({\n                shiny::validate(\n                    shiny::need(input$in_duration_date_start &gt; as.Date('2020-02-14') & input$in_duration_date_end &gt; as.Date('2020-02-14') & input$in_duration_date_start &lt; as.Date('2021-07-26') & input$in_duration_date_end &lt; as.Date('2021-07-26'), \n                                'You must select the duration between 2020-02-15 and 2021-07-25'\n                    )\n                )\n            })\n            shiny::req(input$countries)\n            \n            subset_covdata &lt;- cov_data %&gt;%\n                filter(location %in% input$countries) %&gt;%\n                filter(date &gt;= input$in_duration_date_start) %&gt;%\n                filter(date &lt;= input$in_duration_date_end)\n            \n            p1 &lt;- subset_covdata %&gt;%\n                ggplot(aes(x= date, y=new_cases_per_million, group = location, color = location)) +\n                geom_line(show.legend = F) +\n                theme_bw(base_size = 16) +\n                scale_x_date(date_labels = \"%b-%Y\") +\n                xlab(label = \"Time-Line\") +\n                theme(axis.title.y = element_blank(), axis.title.x = element_blank(), legend.title = element_blank()) +\n                ggtitle(label = \"New cases per million\")\n            \n            \n            output$casesPlot &lt;- renderPlot({p1})\n            \n            p2 &lt;- subset_covdata %&gt;%\n                ggplot(aes(x= date, y=icu_patients_per_million, group = location, color = location)) +\n                geom_line() +\n                theme_bw(base_size = 16) +\n                scale_x_date(date_labels = \"%b-%Y\") +\n                xlab(label = \"Time-Line\") +\n                theme(axis.title.y = element_blank(), axis.title.x = element_blank(), legend.title = element_blank()) +\n                ggtitle(label = \"ICU admissions per million\")\n            \n            output$hospitalPlot &lt;- renderPlot({p2})\n            \n            p3 &lt;- subset_covdata %&gt;%\n                ggplot(aes(x= date, y=new_deaths_per_million, group = location, color = location)) +\n                geom_line(show.legend = F) +\n                theme_bw(base_size = 16) +\n                scale_x_date(date_labels = \"%b-%Y\") +\n                xlab(label = \"Time-Line\") +\n                theme(axis.title.y = element_blank(), legend.title = element_blank()) +\n                ggtitle(label = \"Fatalities per million\")\n            \n            output$fatalPlot &lt;- renderPlot({p3})\n            \n            p4 &lt;- subset_covdata %&gt;%\n                ggplot(aes(x= date, y=people_vaccinated_per_hundred, group = location, color = location)) +\n                geom_line() +\n                theme_bw(base_size = 16) +\n                scale_x_date(date_labels = \"%b-%Y\") +\n                xlab(label = \"Time-Line\") +\n                theme(axis.title.y = element_blank(), legend.title = element_blank()) +\n                ggtitle(label = \"Percent vaccinated\")\n            \n            output$vaccinePlot &lt;- renderPlot({p4})\n            \n            output$download &lt;- downloadHandler(\n                filename =\"Personal_covdata.pdf\",\n                content = function(file){\n                    pdf(NULL)\n                    #plot_grid(p1, p2, p3, p4, nrow = 2)\n                    ggsave(file, plot=plot_grid(p1, p2, p3, p4, nrow = 2), dpi = 300, width = 10, height = 8, units = \"in\")\n                }\n            )\n            \n        })\n}\n\n Notice that the downloadHandler() is inside the observeEvent(), so that the values and the plots can be accessed smoothly! Here, I also show an example of how you can use ggsave() and plot_grid() within the download handler."
  },
  {
    "objectID": "topics/ggplot/slide_gg1.html#contents",
    "href": "topics/ggplot/slide_gg1.html#contents",
    "title": "Introduction to ggplot",
    "section": "Contents",
    "text": "Contents\n\nQuick checkup\nR Basics\nData Types and Formats\nR Tips\nGrammer of Graphics\n\nGeoms\nAesthetics\nScales\nFacets"
  },
  {
    "objectID": "topics/ggplot/slide_gg1.html#quick-checkups",
    "href": "topics/ggplot/slide_gg1.html#quick-checkups",
    "title": "Introduction to ggplot",
    "section": "Quick checkups",
    "text": "Quick checkups\n\n\n\n\nCoffe breaks (Fika in the afternoon)\nWebpage structure\nPlots from drop-down\nTimes mentioned in schedule are super arbitrary"
  },
  {
    "objectID": "topics/ggplot/slide_gg1.html#r-basics",
    "href": "topics/ggplot/slide_gg1.html#r-basics",
    "title": "Introduction to ggplot",
    "section": "R basics",
    "text": "R basics\n\nn &lt;- c(2,3,4,2,1,2,4,5,10,11,8,9)\nprint(n)\n\n [1]  2  3  4  2  1  2  4  5 10 11  8  9\n\n\n\n\nz &lt;- n +3\nprint(z)\n\n [1]  5  6  7  5  4  5  7  8 13 14 11 12\n\n\n\n\n\nz &lt;- n +3\nmean(z)\n\n[1] 8.083333\n\n\n\n\n\ns &lt;- c(\"I\", \"love\", \"Batman\")\nprint(s)\n\n[1] \"I\"      \"love\"   \"Batman\""
  },
  {
    "objectID": "topics/ggplot/slide_gg1.html#data-types",
    "href": "topics/ggplot/slide_gg1.html#data-types",
    "title": "Introduction to ggplot",
    "section": "Data types",
    "text": "Data types\n\nint stands for integers\ndbl stands for doubles or real numbers\nchr stands for character vectors or strings\ndttm stands for date and time,\nlgl stands for logical with just TRUE or FALSE\nfctr stands for factors which R uses to state categorical variables.\ndate stands for dates\n\nYou can find what kind of vectors you have or imported by using the function class()"
  },
  {
    "objectID": "topics/ggplot/slide_gg1.html#data-formats",
    "href": "topics/ggplot/slide_gg1.html#data-formats",
    "title": "Introduction to ggplot",
    "section": "Data Formats",
    "text": "Data Formats\n\n\nWide format\n\n\n\n\n\n\n\nSample_1\nSample_2\nSample_3\nSample_4\n\n\n\n\nENSG00000000003\n321\n303\n204\n492\n\n\nENSG00000000005\n0\n0\n0\n0\n\n\nENSG00000000419\n696\n660\n472\n951\n\n\nENSG00000000457\n59\n54\n44\n109\n\n\nENSG00000000460\n399\n405\n236\n445\n\n\nENSG00000000938\n0\n0\n0\n0\n\n\n\n\n\n\n\n\n\n\nfamiliarity\nconveniency\nyou see more data"
  },
  {
    "objectID": "topics/ggplot/slide_gg1.html#data-formats-1",
    "href": "topics/ggplot/slide_gg1.html#data-formats-1",
    "title": "Introduction to ggplot",
    "section": "Data Formats",
    "text": "Data Formats\n\nLong format\n\n\n\n\n\n\n\nSample_ID\nGene\ncount\n\n\n\n\nSample_1\nENSG00000000003\n321\n\n\nSample_1\nENSG00000000005\n0\n\n\nSample_1\nENSG00000000419\n696\n\n\nSample_1\nENSG00000000457\n59\n\n\nSample_1\nENSG00000000460\n399\n\n\nSample_1\nENSG00000000938\n0\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nSample_ID\nSample_Name\nTime\nReplicate\nCell\nGene\ncount\n\n\n\n\nSample_1\nt0_A\nt0\nA\nA431\nENSG00000000003\n321\n\n\nSample_1\nt0_A\nt0\nA\nA431\nENSG00000000005\n0\n\n\nSample_1\nt0_A\nt0\nA\nA431\nENSG00000000419\n696\n\n\nSample_1\nt0_A\nt0\nA\nA431\nENSG00000000457\n59\n\n\nSample_1\nt0_A\nt0\nA\nA431\nENSG00000000460\n399\n\n\nSample_1\nt0_A\nt0\nA\nA431\nENSG00000000938\n0"
  },
  {
    "objectID": "topics/ggplot/slide_gg1.html#data-formats-2",
    "href": "topics/ggplot/slide_gg1.html#data-formats-2",
    "title": "Introduction to ggplot",
    "section": "Data Formats",
    "text": "Data Formats\n\nLong format\n\n\n\n\n\n\nSample_ID\nSample_Name\nTime\nReplicate\nCell\nGene\ncount\n\n\n\n\nSample_1\nt0_A\nt0\nA\nA431\nENSG00000000003\n321\n\n\nSample_1\nt0_A\nt0\nA\nA431\nENSG00000000005\n0\n\n\nSample_1\nt0_A\nt0\nA\nA431\nENSG00000000419\n696\n\n\nSample_1\nt0_A\nt0\nA\nA431\nENSG00000000457\n59\n\n\nSample_1\nt0_A\nt0\nA\nA431\nENSG00000000460\n399\n\n\nSample_1\nt0_A\nt0\nA\nA431\nENSG00000000938\n0\n\n\n\n\n\n\n\n\n\neasier to add data to the existing\nMost databases store and maintain in long-formats due to its efficiency\nR tools like ggplot require data in long format."
  },
  {
    "objectID": "topics/ggplot/slide_gg1.html#data-frames",
    "href": "topics/ggplot/slide_gg1.html#data-frames",
    "title": "Introduction to ggplot",
    "section": "Data Frames",
    "text": "Data Frames\n\nLet us take a quick look into data.frame in R:\n\n\n\nimported files re usually in data.frame\nStructured matrix with row.names and colnames\nProbably most used data.type in Biology!"
  },
  {
    "objectID": "topics/ggplot/slide_gg1.html#important-tips",
    "href": "topics/ggplot/slide_gg1.html#important-tips",
    "title": "Introduction to ggplot",
    "section": "Important tips",
    "text": "Important tips\n\n? and ??\n\n? help manual for a particular function\n?? searches the entire R library for the term\nvignette(\"ggplot2\")\n\n\n\n\nTAB completion\n\nProbably most useful to avoid unnecessary error messages (and/or frustration)!\n\n\n\n\n\nCase sensitive\n\n\nprint(N)\n\nError: object 'N' not found\n\n\n\nprint(n)\n\n [1]  2  3  4  2  1  2  4  5 10 11  8  9"
  },
  {
    "objectID": "topics/ggplot/slide_gg1.html#reading-files",
    "href": "topics/ggplot/slide_gg1.html#reading-files",
    "title": "Introduction to ggplot",
    "section": "Reading files",
    "text": "Reading files\n\n\n\n\n\niris-head-corrupted.csv\n\nSepal.Length,Sepal.Width,Petal.Length,Petal.Width,Species\n5.1,3.5,1.4,0.2,setosa\n4.9,3,1.4,0.2,setosa\n4.7,3.2,1.3,0.2,setosa\n4.6,3.1,1.5,0.2,setosa\n5,3.6,#1.4,0.2,setosa\n5.4,3.9,1.7,0.4,setosa\n\n\n\n\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\n\nReserved variables\n\nreserved variables like T, F, character and many others …\nHow can you check if something is a reserved variable?\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page."
  },
  {
    "objectID": "topics/ggplot/slide_gg1.html#grammar-of-graphics",
    "href": "topics/ggplot/slide_gg1.html#grammar-of-graphics",
    "title": "Introduction to ggplot",
    "section": "Grammar of Graphics",
    "text": "Grammar of Graphics\n\n\n\n\n\n\n\nData: Input data\nGeom: A geometry representing data. Points, Lines etc\nAesthetics: Visual characteristics of the geometry. Size, Color, Shape etc\nScale: How visual characteristics are converted to display values\nStatistics: Statistical transformations. Counts, Means etc\nCoordinates: Numeric system to determine position of geometry. Cartesian, Polar etc\nFacets: Split data into subsets"
  },
  {
    "objectID": "topics/ggplot/slide_gg1.html#building-a-graph",
    "href": "topics/ggplot/slide_gg1.html#building-a-graph",
    "title": "Introduction to ggplot",
    "section": "Building a graph",
    "text": "Building a graph"
  },
  {
    "objectID": "topics/ggplot/slide_gg1.html#build-demo",
    "href": "topics/ggplot/slide_gg1.html#build-demo",
    "title": "Introduction to ggplot",
    "section": "Build-Demo",
    "text": "Build-Demo\n\nPlease enable JavaScript to experience the dynamic code cell content on this page."
  },
  {
    "objectID": "topics/ggplot/slide_gg1.html#build-demo-1",
    "href": "topics/ggplot/slide_gg1.html#build-demo-1",
    "title": "Introduction to ggplot",
    "section": "Build-Demo",
    "text": "Build-Demo\n\nPlease enable JavaScript to experience the dynamic code cell content on this page."
  },
  {
    "objectID": "topics/ggplot/slide_gg1.html#build-demo-2",
    "href": "topics/ggplot/slide_gg1.html#build-demo-2",
    "title": "Introduction to ggplot",
    "section": "Build-Demo",
    "text": "Build-Demo\n\nPlease enable JavaScript to experience the dynamic code cell content on this page."
  },
  {
    "objectID": "topics/ggplot/slide_gg1.html#build-demo-3",
    "href": "topics/ggplot/slide_gg1.html#build-demo-3",
    "title": "Introduction to ggplot",
    "section": "Build-Demo",
    "text": "Build-Demo\n\nPlease enable JavaScript to experience the dynamic code cell content on this page."
  },
  {
    "objectID": "topics/ggplot/slide_gg1.html#geoms",
    "href": "topics/ggplot/slide_gg1.html#geoms",
    "title": "Introduction to ggplot",
    "section": "Geoms",
    "text": "Geoms"
  },
  {
    "objectID": "topics/ggplot/slide_gg1.html#geoms-1",
    "href": "topics/ggplot/slide_gg1.html#geoms-1",
    "title": "Introduction to ggplot",
    "section": "Geoms",
    "text": "Geoms\n\nPlease enable JavaScript to experience the dynamic code cell content on this page."
  },
  {
    "objectID": "topics/ggplot/slide_gg1.html#multiple-geoms",
    "href": "topics/ggplot/slide_gg1.html#multiple-geoms",
    "title": "Introduction to ggplot",
    "section": "Multiple geoms",
    "text": "Multiple geoms\n\nPlease enable JavaScript to experience the dynamic code cell content on this page."
  },
  {
    "objectID": "topics/ggplot/slide_gg1.html#aesthetics",
    "href": "topics/ggplot/slide_gg1.html#aesthetics",
    "title": "Introduction to ggplot",
    "section": "Aesthetics",
    "text": "Aesthetics\n\nAesthetic mapping vs aesthetic parameter"
  },
  {
    "objectID": "topics/ggplot/slide_gg1.html#aesthetics-1",
    "href": "topics/ggplot/slide_gg1.html#aesthetics-1",
    "title": "Introduction to ggplot",
    "section": "Aesthetics",
    "text": "Aesthetics\n\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page."
  },
  {
    "objectID": "topics/ggplot/slide_gg1.html#scales",
    "href": "topics/ggplot/slide_gg1.html#scales",
    "title": "Introduction to ggplot",
    "section": "Scales",
    "text": "Scales\n\nIf you would like to change the default aesthetics\nscales: position, color, fill, size, shape, alpha, linetype\nsyntax: scale_&lt;aesthetic&gt;_&lt;type&gt;\n\n\nDiscrete Colors:"
  },
  {
    "objectID": "topics/ggplot/slide_gg1.html#scales-discrete-colors",
    "href": "topics/ggplot/slide_gg1.html#scales-discrete-colors",
    "title": "Introduction to ggplot",
    "section": "Scales • Discrete Colors",
    "text": "Scales • Discrete Colors\n\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page."
  },
  {
    "objectID": "topics/ggplot/slide_gg1.html#scales-continuous-colors",
    "href": "topics/ggplot/slide_gg1.html#scales-continuous-colors",
    "title": "Introduction to ggplot",
    "section": "Scales • Continuous Colors",
    "text": "Scales • Continuous Colors\n\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page."
  },
  {
    "objectID": "topics/ggplot/slide_gg1.html#scales-shape",
    "href": "topics/ggplot/slide_gg1.html#scales-shape",
    "title": "Introduction to ggplot",
    "section": "Scales • Shape",
    "text": "Scales • Shape\n\nIn RStudio, type scale_, then press TAB\nSimilarly you can use it for shape, axis, fill, etc..\n\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page."
  },
  {
    "objectID": "topics/ggplot/slide_gg1.html#facets",
    "href": "topics/ggplot/slide_gg1.html#facets",
    "title": "Introduction to ggplot",
    "section": "Facets",
    "text": "Facets\n\nSplit to subplots based on variable(s)\nFacetting in one dimension"
  },
  {
    "objectID": "topics/ggplot/slide_gg1.html#facets-1",
    "href": "topics/ggplot/slide_gg1.html#facets-1",
    "title": "Introduction to ggplot",
    "section": "Facets",
    "text": "Facets\nfacet_wrap\n\nPlease enable JavaScript to experience the dynamic code cell content on this page."
  },
  {
    "objectID": "topics/ggplot/slide_gg1.html#facets-facet_grid",
    "href": "topics/ggplot/slide_gg1.html#facets-facet_grid",
    "title": "Introduction to ggplot",
    "section": "Facets • facet_grid",
    "text": "Facets • facet_grid\n\nFacetting in two dimensions\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page."
  },
  {
    "objectID": "topics/ggplot/slide_gg1.html#section",
    "href": "topics/ggplot/slide_gg1.html#section",
    "title": "Introduction to ggplot",
    "section": "",
    "text": "Thank you. Questions?"
  },
  {
    "objectID": "topics/dynamic_plotting/slide_dynamic_plot1.html#dynamic-and-interactive-applications",
    "href": "topics/dynamic_plotting/slide_dynamic_plot1.html#dynamic-and-interactive-applications",
    "title": "Dynamic applications",
    "section": "Dynamic and Interactive applications",
    "text": "Dynamic and Interactive applications\n\n\nDynamic applications may resemble interactive Shiny dashboards in terms of appearance and user experience, but they differ significantly in structure. These applications are standalone and do not rely on a server component. Instead, all interactive features are pre-built within the application itself, and the final product is generated as an HTML file, ready to be hosted on a web platform. Tools like Quarto (and its predecessor, RMarkdown) are often used to create such dynamic applications.\nInteractive applications consist of both, a user interface (UI) and server, enabling users to send requests to the server through the UI. This setup allows the application’s components to be reactive, meaning the content displayed on the UI dynamically responds to the user’s inputs, creating a fully interactive experience. To build these applications, you need R scripts that define the UI and server components, either as separate or combined scripts.\nIn this workshop, we will cover both dynamic and interactive applications. First, we will explore how to create dynamic applications using Quarto, especially how to incorporate dynamic components directly into a Quarto HTML document and consequently incorporate interactivity without learning JavaScript or requiring a Shiny Server to view your document.\nThen, we will dive into building interactive applications with Shiny, focusing on the structure and components required for their development. By the end of today and tomorrow, you will have a clear understanding of the differences between these two approaches and the tools needed to implement them effectively."
  },
  {
    "objectID": "topics/dynamic_plotting/slide_dynamic_plot1.html#quarto-using-htmlwidgets",
    "href": "topics/dynamic_plotting/slide_dynamic_plot1.html#quarto-using-htmlwidgets",
    "title": "Dynamic applications",
    "section": "Quarto using htmlwidgets",
    "text": "Quarto using htmlwidgets\n\n\nHTML widgets work just like R plots except they produce interactive web visualizations\nDo not require any knowledge of JavaScript, nor use of a Shiny Server\nThere are many widgets to choose from, most known are:\n\nplotly\nggiraph\nleaflet\nDT"
  },
  {
    "objectID": "topics/dynamic_plotting/slide_dynamic_plot1.html#plotly",
    "href": "topics/dynamic_plotting/slide_dynamic_plot1.html#plotly",
    "title": "Dynamic applications",
    "section": "plotly",
    "text": "plotly\n\n\n```{r}\nlibrary(plotly)\nlibrary(palmerpenguins)\npenguins %&gt;%\n    plot_ly(x = ~body_mass_g, y = ~flipper_length_mm, \n    color = ~sex, width = 550, height = 400) %&gt;%\n    add_markers()\n```\n\n\n\n\n\nFig.1: Body mass and flipper length of Palmer penguins"
  },
  {
    "objectID": "topics/dynamic_plotting/slide_dynamic_plot1.html#ggiraph",
    "href": "topics/dynamic_plotting/slide_dynamic_plot1.html#ggiraph",
    "title": "Dynamic applications",
    "section": "ggiraph",
    "text": "ggiraph\n\n\n\n\nWorks similar to plotly\nIt can connect 2 or more charts together\n\n\n```{r}\n#| fig-width: 14\n#| fig-height: 10\nlibrary(ggiraph)\nlibrary(ggplot2)\nlibrary(patchwork)\n\ntb_data &lt;- read.csv(\"./data/bcg-immunization-coverage-for-tb-among-1-year-olds.csv\", sep = \",\", header = T)\n\ntb_data_filt &lt;- tb_data[tb_data$Year == 2020 & tb_data$Share_of_newborns &lt; 60, ]\n\np1 &lt;- ggplot(tb_data_filt, aes(x = Entity, y = Share_of_newborns)) +\n    geom_col_interactive(aes(color = Entity, tooltip = Share_of_newborns, fill = Entity)) +\n    theme_minimal() +\n    labs(x = \"Entity\", y = \"Share of Newborns (%)\") + \n    coord_flip() + \n    scale_color_manual(values =c (\"#88CCEE\", \"#44AA99\", \"#117733\", \"#332288\", \"#DDCC77\", \"#999933\")) + \n    scale_fill_manual(values =c (\"#88CCEE\", \"#44AA99\", \"#117733\", \"#332288\", \"#DDCC77\", \"#999933\")) + \n    theme(axis.text = element_text(size = 14),\n    axis.title = element_text(size = 14),\n    legend.text = element_text(size = 14), \n    legend.title = element_text(size = 14))\n\ntb_data_filt1 &lt;- tb_data[tb_data$Year == 2023 & tb_data$Share_of_newborns &lt; 60, ]\n\np2 &lt;- ggplot(tb_data_filt1, aes(x = Entity, y = Share_of_newborns)) +\n    geom_col_interactive(aes(color = Entity, tooltip = Share_of_newborns, fill = Entity)) +\n    theme_minimal() +\n    labs(x = \"Entity\", y = \"Share of Newborns (%)\") + \n    coord_flip() + \n    scale_color_manual(values =c (\"#117733\", \"#332288\", \"#CC6677\", \"#999933\")) + \n    scale_fill_manual(values =c (\"#117733\", \"#332288\", \"#CC6677\", \"#999933\")) + \n    theme(axis.text = element_text(size = 14), \n    axis.title = element_text(size = 14),\n    legend.text = element_text(size = 14), \n    legend.title = element_text(size = 14)) \n\ngirafe(ggobj = (p1 + p2))\n```\n\n\n\n\n\n\n\n\n\nData used: https://ourworldindata.org/grapher/bcg-immunization-coverage-for-tb-among-1-year-olds?time=2020"
  },
  {
    "objectID": "topics/dynamic_plotting/slide_dynamic_plot1.html#leaflet",
    "href": "topics/dynamic_plotting/slide_dynamic_plot1.html#leaflet",
    "title": "Dynamic applications",
    "section": "leaflet",
    "text": "leaflet\n\n\nFor creating dynamic maps that support panning and zooming along with various annotations like markers, basemaps, and pop-ups\nLet’s check where NBIS has drop-ins on Wednesdays at 10.30 in Lund\n\n\n\n\n\n```{r}\nlibrary(leaflet)\n\ndf &lt;- data.frame(lng = c(13.20279, 13.20869, 13.21894),\n                 lat = c(55.71118, 55.71414, 55.71092))\n\nicons_list &lt;- awesomeIcons(icon = 'briefcase',\n  iconColor = 'white',\n  library = 'ion', \n  markerColor = \"cadetblue\")\n\nleaflet(width = \"100%\") %&gt;%\n  addTiles() %&gt;%\n  setView(lng = 13.21014,lat = 55.71208, zoom = 12) %&gt;%\n  addAwesomeMarkers(data = df, icon = icons_list, popup = c(\"Forum Medicum Café\", \"Café Le Mani\", \"MV Inspira\"))\n```"
  },
  {
    "objectID": "topics/dynamic_plotting/slide_dynamic_plot1.html#dt",
    "href": "topics/dynamic_plotting/slide_dynamic_plot1.html#dt",
    "title": "Dynamic applications",
    "section": "DT",
    "text": "DT\n\n\n```{r}\nlibrary(DT)\n\ntb_data &lt;- read.csv(\"./data/bcg-immunization-coverage-for-tb-among-1-year-olds.csv\", sep = \",\", header = T)\n\ndatatable(tb_data, filter = \"top\", class = 'cell-border stripe')\n```"
  },
  {
    "objectID": "topics/dynamic_plotting/slide_dynamic_plot1.html#quarto-using-crosstalk",
    "href": "topics/dynamic_plotting/slide_dynamic_plot1.html#quarto-using-crosstalk",
    "title": "Dynamic applications",
    "section": "Quarto using crosstalk",
    "text": "Quarto using crosstalk\n```{r}\nlibrary(crosstalk)\nlibrary(DT)\nlibrary(plotly)\n\ntb_data &lt;- read.csv(\"./data/bcg-immunization-coverage-for-tb-among-1-year-olds.csv\", sep = \",\", header = T)\ntb_data_filt &lt;- tb_data[grepl(\"^N\", tb_data$Entity) & tb_data$Year == 2000, ]\ntb_data_cross &lt;- SharedData$new(tb_data_filt)\n\nbscols(\n  list(filter_checkbox(\"Entity\", \"Entity\", tb_data_cross, ~Entity, inline = TRUE)),\n  plot_ly(tb_data_cross, x = ~Entity, y=~Share_of_newborns),\n  datatable(tb_data_cross, width = \"100%\")\n)\n```\n\n\n\n\n\n\nEntity\n\n\n\nNamibia\n\n\n\nNauru\n\n\n\nNepal\n\n\n\nNicaragua\n\n\n\nNiger\n\n\n\nNigeria\n\n\n\nNiue\n\n\n\nNorth Korea\n\n\n\nNorth Macedonia"
  },
  {
    "objectID": "topics/dynamic_plotting/slide_dynamic_plot1.html#observablejs",
    "href": "topics/dynamic_plotting/slide_dynamic_plot1.html#observablejs",
    "title": "Dynamic applications",
    "section": "ObservableJS",
    "text": "ObservableJS\n\n\nQuarto supports OJS for interactive visualizations in the browser\n{ojs} executable code block\n\n\n```{ojs}\n// Load the dataset from a CSV file\ndata = FileAttachment(\"./data/bcg-immunization-coverage-for-tb-among-1-year-olds.csv\").csv()\n\n// Create a range slider to select the year dynamically\nviewof year = Inputs.range([2000, 2023], {step: 1, value: 2010, label: \"Year\"})\n\n// Create a checkbox input to filter data by specific entities\nviewof entity = Inputs.checkbox(\n  [\"Bangladesh\", \"Belarus\", \"Belize\", \"Benin\", \"Bhutan\", \"Bolivia\", \"Bosnia and Herzegovina\", \"Botswana\", \"Brazil\", \"Brunei\", \"Bulgaria\", \"Burkina Faso\", \"Burundi\"], \n  { value: [\"Belarus\", \"Belize\", \"Bolivia\", \"Brasil\", \"Bulgaria\"], \n    label: \"Entity:\"\n  }\n)\n\n// Filter the dataset based on the selected year and entity\nfilteredData = data.filter(d =&gt; d.Year == year && entity.includes(d.Entity))\n\n// Generate a bar plot using the filtered data\nPlot.plot({\n    marks: [\n        Plot.barY(filteredData, {x: \"Entity\", y: \"Share_of_newborns\", fill: \"Entity\"})\n    ],\n    x: {label: \"Entity\"}, // Label for the x-axis\n    y: {label: \"Share of Newborns (%)\"}, // Label for the y-axis\n    color: {legend: true} // enable the color legend\n})\n```"
  },
  {
    "objectID": "topics/dynamic_plotting/slide_dynamic_plot1.html#observablejs-1",
    "href": "topics/dynamic_plotting/slide_dynamic_plot1.html#observablejs-1",
    "title": "Dynamic applications",
    "section": "ObservableJS",
    "text": "ObservableJS\n\n\nQuarto supports OJS for interactive visualizations in the browser\n{ojs} executable code block\n\n\n\ndata = FileAttachment(\"./data/bcg-immunization-coverage-for-tb-among-1-year-olds.csv\").csv()\n\n// Create a range slider to select the year dynamically\nviewof year = Inputs.range([2000, 2023], {step: 1, value: 2010, label: \"Year\"})\n\n// Create a checkbox input to filter data by specific entities\nviewof entity = Inputs.checkbox(\n  [\"Bangladesh\", \"Belarus\", \"Belize\", \"Benin\", \"Bhutan\", \"Bolivia\", \"Bosnia and Herzegovina\", \"Botswana\", \"Brazil\", \"Brunei\", \"Bulgaria\", \"Burkina Faso\", \"Burundi\"], \n  { value: [\"Belarus\", \"Belize\", \"Bolivia\", \"Brasil\", \"Bulgaria\"], \n    label: \"Entity:\"\n  }\n)\n\n// Filter the dataset based on the selected year and entity\nfilteredData = data.filter(d =&gt; d.Year == year && entity.includes(d.Entity))\n\n// Generate a bar plot using the filtered data\nPlot.plot({\n    marks: [\n        Plot.barY(filteredData, {x: \"Entity\", y: \"Share_of_newborns\", fill: \"Entity\"})\n    ],\n    x: {label: \"Entity\"}, // Label for the x-axis\n    y: {label: \"Share of Newborns (%)\"}, // Label for the y-axis\n    color: {legend: true} // enable the color legend\n})"
  },
  {
    "objectID": "topics/dynamic_plotting/slide_dynamic_plot1.html#sources",
    "href": "topics/dynamic_plotting/slide_dynamic_plot1.html#sources",
    "title": "Dynamic applications",
    "section": "Sources",
    "text": "Sources\n\n\nhtmlwidgets\nQuarto Tips & Tricks\nObservable JS\nOur World in Data"
  },
  {
    "objectID": "topics/dynamic_plotting/slide_dynamic_plot1.html#section",
    "href": "topics/dynamic_plotting/slide_dynamic_plot1.html#section",
    "title": "Dynamic applications",
    "section": "",
    "text": "Thank you. Questions?"
  },
  {
    "objectID": "topics/Shiny/slide_shiny2.html#contents",
    "href": "topics/Shiny/slide_shiny2.html#contents",
    "title": "R Shiny - Part II",
    "section": "Contents",
    "text": "Contents\n\nReactivity\nObservers\nUpdating Widgets\nError Validation\nDownload"
  },
  {
    "objectID": "topics/Shiny/slide_shiny2.html#reactivity",
    "href": "topics/Shiny/slide_shiny2.html#reactivity",
    "title": "R Shiny - Part II",
    "section": "Reactivity",
    "text": "Reactivity\n\nCode doesn’t always run line-by-line (Non-linear execution)\nCode executes when dependencies change\n\n\nreactlog"
  },
  {
    "objectID": "topics/Shiny/slide_shiny2.html#reactives",
    "href": "topics/Shiny/slide_shiny2.html#reactives",
    "title": "R Shiny - Part II",
    "section": "Reactives",
    "text": "Reactives\nFunctions with reactive context\n\nreactive(): Defines an expression\nreactiveVal(): Defines single value\nreactiveValues(): Defines a list of values\n\nRegular function fn &lt;- function(): Runs wherever it is is used\nReactive function fn &lt;- reactive(): Runs only when input changes"
  },
  {
    "objectID": "topics/Shiny/slide_shiny2.html#reactive-context",
    "href": "topics/Shiny/slide_shiny2.html#reactive-context",
    "title": "R Shiny - Part II",
    "section": "Reactive context",
    "text": "Reactive context\nReactive values cannot be accessed outside a reactive context\n\n\n#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| components: [editor, viewer]\nshinyApp(\n  ui = fluidPage(\n    numericInput(\"num\", \"Enter number\",\n                 value = 1),\n    textOutput(\"result\")\n  ),\n  server = function(input, output) {\n    val = input$num^2\n    output$result &lt;- renderText({\n      paste(\"Squared number is:\", val)\n    })\n  }\n)"
  },
  {
    "objectID": "topics/Shiny/slide_shiny2.html#reactive-dynamics",
    "href": "topics/Shiny/slide_shiny2.html#reactive-dynamics",
    "title": "R Shiny - Part II",
    "section": "Reactive dynamics",
    "text": "Reactive dynamics\n#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| components: [editor, viewer]\nshinyApp(\n  ui=fluidPage(\n    numericInput(\"num_input\",label=\"Observations\",value=50),\n    textOutput(\"text_output\")),\n  server=function(input,output) {\n    output$text_output &lt;- renderText({\n        mean(rnorm(input$num_input))\n    })\n  })"
  },
  {
    "objectID": "topics/Shiny/slide_shiny2.html#reactive-dynamics-1",
    "href": "topics/Shiny/slide_shiny2.html#reactive-dynamics-1",
    "title": "R Shiny - Part II",
    "section": "Reactive dynamics",
    "text": "Reactive dynamics\n#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| components: [editor, viewer]\nshinyApp(\n  ui=fluidPage(\n    numericInput(\"num_input\",label=\"Observations\",value=50),\n    textOutput(\"text_output1\"), textOutput(\"text_output2\")),\n  server=function(input,output) {\n    output$text_output1 &lt;- renderText({\n      mean(rnorm(input$num_input))\n    })\n    output$text_output2 &lt;- renderText({\n      mean(rnorm(input$num_input))\n    })\n  })"
  },
  {
    "objectID": "topics/Shiny/slide_shiny2.html#reactive-dynamics-2",
    "href": "topics/Shiny/slide_shiny2.html#reactive-dynamics-2",
    "title": "R Shiny - Part II",
    "section": "Reactive dynamics",
    "text": "Reactive dynamics\n#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| components: [editor, viewer]\nshinyApp(\n  ui=fluidPage(\n    numericInput(\"num_input\",label=\"Observations\",value=50),\n    textOutput(\"text_output1\"), textOutput(\"text_output2\")),\n  server=function(input,output) {\n    rand &lt;- function(x) rnorm(x)\n    output$text_output1 &lt;- renderText({\n      mean(rand(input$num_input))\n    })\n    output$text_output2 &lt;- renderText({\n      mean(rand(input$num_input))\n    })\n  })"
  },
  {
    "objectID": "topics/Shiny/slide_shiny2.html#reactive-dynamics-3",
    "href": "topics/Shiny/slide_shiny2.html#reactive-dynamics-3",
    "title": "R Shiny - Part II",
    "section": "Reactive dynamics",
    "text": "Reactive dynamics\n#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| components: [editor, viewer]\nshinyApp(\n  ui=fluidPage(\n    numericInput(\"num_input\",label=\"Observations\",value=50),\n    textOutput(\"text_output1\"), textOutput(\"text_output2\")\n    ),\n  server=function(input,output) {\n    rand &lt;- reactive({ rnorm(input$num_input) })\n    output$text_output1 &lt;- renderText({\n      mean(rand())\n    })\n    output$text_output2 &lt;- renderText({\n      mean(rand())\n    })\n  })\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nReactive functions can be use to share output from a common source. They can be used to reduce computation for demanding functions. Reactive values cannot be accessed from outside the reactive environment.\nTry changing the reactive function\nrand &lt;- reactive({ rnorm(input$num_input) })\nto a regular function\nrand &lt;- function(){ rnorm(input$num_input) }\nSaving a reactlog,\n\n# reset log\nreactlogReset()\n# run the app and exit\n# save react log as text\ndput(shiny::reactlog(), file = \"assets/reactlog-reactivity-3.txt\")\n# open and visualize\n\"assets/reactlog-reactivity-3.txt\" |&gt;\n  dget() |&gt;\n  reactlog::reactlog_show()"
  },
  {
    "objectID": "topics/Shiny/slide_shiny2.html#reactive-values",
    "href": "topics/Shiny/slide_shiny2.html#reactive-values",
    "title": "R Shiny - Part II",
    "section": "Reactive values",
    "text": "Reactive values\n\nreactVal() reactValues()\nStore reactive values that can be accessed from any reactive context\n\n#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| components: [editor, viewer]\nshinyApp(\n  ui = fluidPage(\n    actionButton(\"add\",\"Add\"),\n    actionButton(\"subtract\",\"Subtract\"),\n    textOutput(\"counter\")\n  ),\n  server = function(input, output) {\n    reactive_values &lt;- reactiveValues(counter = 0) \n    \n    observeEvent(input$add, {\n      reactive_values$counter &lt;- reactive_values$counter + 1\n    }) \n    observeEvent(input$subtract, {\n      reactive_values$counter &lt;- reactive_values$counter - 1\n    }) \n  \n    output$counter &lt;- renderText({\n      reactive_values$counter\n    })\n  }\n)"
  },
  {
    "objectID": "topics/Shiny/slide_shiny2.html#controlling-reactivity-using-action-buttons",
    "href": "topics/Shiny/slide_shiny2.html#controlling-reactivity-using-action-buttons",
    "title": "R Shiny - Part II",
    "section": "Controlling reactivity using action buttons",
    "text": "Controlling reactivity using action buttons\n#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| components: [editor, viewer]\nshinyApp(\nui = fluidPage(\n  h3(\"Temperature Converter\"),\n  numericInput(\"celsius\", \"Degrees Celsius:\", value = 0),\n  actionButton(\"btn_go\", \"Go!\"),\n  textOutput(\"fahrenheit\")\n),\n\nserver = function(input, output) {\n  evr &lt;- eventReactive(input$btn_go, {\n    paste(input$celsius, \"°C is \", (input$celsius * 9/5) + 32, \" °F\")\n  })\n  \n  output$fahrenheit &lt;- renderText({\n    evr()\n  })\n  \n  #output$fahrenheit &lt;- renderText({\n  #    paste(input$celsius, \"°C is \", (input$celsius * 9/5) + 32, \" °F\")\n  #  }) |&gt;\n  #  bindEvent(input$btn_go)\n})"
  },
  {
    "objectID": "topics/Shiny/slide_shiny2.html#observers",
    "href": "topics/Shiny/slide_shiny2.html#observers",
    "title": "R Shiny - Part II",
    "section": "Observers",
    "text": "Observers\nReactive functions that automatically re-executes whenever its dependencies change. Usually used for side-effects rather than returning a value.\nobserve()\nDoesn’t return a value. Constantly runs as long as the app is alive.\nobserveEvent()\nSimilar to observe(), but only re-executes on specific event (like a button click). Doesn’t return a value.\neventReactive()\nSimilar to observeEvent(), but returns a value.\nbindEvent()\nBind an action to a specific event. Similar to observeEvent(), but allows for the event to be determined dynamically. Links an input (like a button) to an output and ensures that reactive expressions are only updated when bound event is triggered.\n\nObservers are reactive functions that run when their dependencies change similar to regular reactive output functions,affect HTML output. Observers are used for side-effect."
  },
  {
    "objectID": "topics/Shiny/slide_shiny2.html#updating-widgets",
    "href": "topics/Shiny/slide_shiny2.html#updating-widgets",
    "title": "R Shiny - Part II",
    "section": "Updating widgets",
    "text": "Updating widgets\n\nWidgets can be updated once initialised.\n\n\n\nExample of a typical UI\n\n\n\nui=fluidPage(\n  selectInput(\"select-input\",label=\"selectInput\",choices=c(\"A\",\"B\",\"C\")),\n  numericInput(\"numeric-input\",label=\"numericInput\",value=5,min=1,max=10),\n  sliderInput(\"slider-input\",label=\"sliderInput\",value=5,min=1,max=10),\n)\n\n\n\n\n\nAdd third argument session to server function\nUpdate functions can be used to update input widgets\nReactive observer observe({}) monitors for a conditional change\n\n\n\nserver=function(input,output,session) {\n  observe({\n    if(something) {\n      updateSelectInput(session,\"select-input\",label=\"selectInput\",choices=c(\"D\",\"E\",\"F\"))\n      updateNumericInput(session,\"numeric-input\",label=\"numericInput\",value=10,min=1,max=10)\n      updateSliderInput(session,\"slider-input\",label=\"sliderInput\",value=8,min=1,max=10)\n    }\n  })\n}"
  },
  {
    "objectID": "topics/Shiny/slide_shiny2.html#updating-widgets-1",
    "href": "topics/Shiny/slide_shiny2.html#updating-widgets-1",
    "title": "R Shiny - Part II",
    "section": "Updating widgets",
    "text": "Updating widgets\n#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| components: [editor, viewer]\nshinyApp(\n  ui = fluidPage(\n    selectInput(\"data\", \"Choose a dataset:\", choices = c(\"mtcars\", \"iris\", \"faithful\")),\n    selectInput(\"variable\", \"Choose a variable:\", choices = names(mtcars))\n  ),\n  \n  server = function(input, output, session) {\n    \n    dataset &lt;- reactive({\n      switch(input$data,\n             \"mtcars\" = mtcars,\n             \"iris\" = iris,\n             \"faithful\" = faithful)\n    })\n    \n    observe({\n      updateSelectInput(session,\"variable\",choices=names(dataset()))\n    })\n  }\n)"
  },
  {
    "objectID": "topics/Shiny/slide_shiny2.html#updating-widgets-2",
    "href": "topics/Shiny/slide_shiny2.html#updating-widgets-2",
    "title": "R Shiny - Part II",
    "section": "Updating widgets",
    "text": "Updating widgets\n\n\n\nInput function\nUpdate function\n\n\n\n\ncheckboxInput()\nupdateCheckboxInput()\n\n\ncheckboxGroupInput()\nupdateCheckboxGroupInput()\n\n\nradioButtons()\nupdateRadioButtons()\n\n\ndateInput()\nupdateDateInput()\n\n\ndateRangeInput()\nupdateDateRangeInput()\n\n\nfileInput()\n\n\n\nnumericInput()\nupdateNumericInput()\n\n\nsliderInput()\nupdateSliderInput()\n\n\ntextInput()\nupdateTextInput()\n\n\ntextAreaInput()\nupdateTextAreaInput()\n\n\npasswordInput()\n\n\n\nselectInput()\nupdateSelectInput()\n\n\nactionButton()\n\n\n\nsubmitButton()\n\n\n\ntabsetPanel()\nupdateTabsetPanel()\n\n\nnavbarPage()\nupdateNavbarPage()"
  },
  {
    "objectID": "topics/Shiny/slide_shiny2.html#error-validation",
    "href": "topics/Shiny/slide_shiny2.html#error-validation",
    "title": "R Shiny - Part II",
    "section": "Error validation",
    "text": "Error validation\n\nShiny returns an error with missing or incorrect values\n\n\n\n\nshinyApp(\nui=fluidPage(\n  selectInput(\"data_input\",label=\"Select data\",\n              choices=c(\"\",\"mtcars\",\"faithful\",\"iris\")),\n  tableOutput(\"table_output\")\n),\nserver=function(input, output) {\n  getdata &lt;- reactive({ get(input$data_input,'package:datasets') })\n  output$table_output &lt;- renderTable({head(getdata())})\n})\n\n\n\n\n\n\n\n\nErrors can be handled in a controlled manner"
  },
  {
    "objectID": "topics/Shiny/slide_shiny2.html#error-validation-1",
    "href": "topics/Shiny/slide_shiny2.html#error-validation-1",
    "title": "R Shiny - Part II",
    "section": "Error validation",
    "text": "Error validation\n\n\nvalidate() can be used to check input\nvalidate() using need()\n\n\n\n\n\nshinyApp(\nui=fluidPage(\n  selectInput(\"data_input\",label=\"Select data\",\n              choices=c(\"\",\"mtcars\",\"faithful\",\"iris\")),\n  tableOutput(\"table_output\")\n),\nserver=function(input, output) {\n  getdata &lt;- reactive({ \n  validate(need(try(input$data_input),\"Please select a data set\"))\n    get(input$data_input,'package:datasets') \n    })\n  output$table_output &lt;- renderTable({head(getdata())})\n})"
  },
  {
    "objectID": "topics/Shiny/slide_shiny2.html#error-validation-2",
    "href": "topics/Shiny/slide_shiny2.html#error-validation-2",
    "title": "R Shiny - Part II",
    "section": "Error validation",
    "text": "Error validation\n\nvalidate() using custom function\n\n\n\n\nvalfn &lt;- function(x) if(is.null(x) | is.na(x) | x==\"\") return(\"Input data is incorrect.\")\nshinyApp(\nui=fluidPage(\n  selectInput(\"data_input\",label=\"Select data\",\n              choices=c(\"\",\"mtcars\",\"faithful\",\"iris\")),\n  tableOutput(\"table_output\")\n),\nserver=function(input,output) {\n  getdata &lt;- reactive({ \n  validate(valfn(try(input$data_input)))\n    get(input$data_input,'package:datasets')\n    })\n  output$table_output &lt;- renderTable({head(getdata())})\n})\n\n\n\n\n\n\n\n\nshiny::req() checks input variable and silently stops execution"
  },
  {
    "objectID": "topics/Shiny/slide_shiny2.html#download-data",
    "href": "topics/Shiny/slide_shiny2.html#download-data",
    "title": "R Shiny - Part II",
    "section": "Download • Data",
    "text": "Download • Data\n\nAdd button and downloadHandler() function\n\n\nshinyApp(\nui=fluidPage(\n  selectInput(\"data_input\",label=\"Select data\",\n              choices=c(\"mtcars\",\"faithful\",\"iris\")),\n  textOutput(\"text_output\"),\n  downloadButton(\"button_download\",\"Download\")\n),\nserver=function(input, output) {\n  getdata &lt;- reactive({ get(input$data_input, 'package:datasets') })\n  output$text_output &lt;- renderText(paste0(\"Selected dataset: \",input$data_input))\n  \n  output$button_download &lt;- downloadHandler(\n  filename = function() {\n     paste0(input$data_input,\".csv\")\n   },\n  content = function(file) {\n     write.csv(getdata(),file,row.names=FALSE,quote=F)\n   })\n})\n\n\nRun in system browser if Rstudio browser doesn’t work"
  },
  {
    "objectID": "topics/Shiny/slide_shiny2.html#download-plots",
    "href": "topics/Shiny/slide_shiny2.html#download-plots",
    "title": "R Shiny - Part II",
    "section": "Download • Plots",
    "text": "Download • Plots\n\nshinyApp(\nui=fluidPage(\n  selectInput(\"data_input\",label=\"Select data\",\n              choices=c(\"mtcars\",\"faithful\",\"iris\")),\n  textOutput(\"text_output\"),\n  plotOutput(\"plot_output\",width=\"400px\"),\n  downloadButton(\"button_download\", \"Download\")\n),\nserver=function(input, output) {\n  getdata &lt;- reactive({ get(input$data_input, 'package:datasets') })\n  output$text_output &lt;- renderText(paste0(\"Selected dataset: \",input$data_input))\n  output$plot_output &lt;- renderPlot({hist(getdata()[, 1])})\n  \noutput$button_download &lt;- downloadHandler(\n  filename = function() {\n    paste0(input$data_input,\".png\")\n  },\n  content = function(file) {\n    png(file)\n    hist(getdata()[, 1])\n    dev.off()\n  })\n})\n\n\nRun in system browser if Rstudio browser doesn’t work\nSee usage of download buttons"
  },
  {
    "objectID": "topics/Shiny/slide_shiny2.html#section",
    "href": "topics/Shiny/slide_shiny2.html#section",
    "title": "R Shiny - Part II",
    "section": "",
    "text": "Thank you. Questions?\nSlide inspirations: Roy Francis (NBIS, RaukR2024)"
  },
  {
    "objectID": "topics/Shiny/lab_shiny1.html",
    "href": "topics/Shiny/lab_shiny1.html",
    "title": "RShiny Lab: Part I",
    "section": "",
    "text": "This is an introduction to shiny web applications with R. Please follow the exercise to familiarise yourself with the fundamentals. And then you can follow instructions to build an app with interactive plots related to the Covid data. Code chunks starting with shinyApp() can be simply copy-pasted to the RStudio console and run. Generally, complete shiny code is saved as a text file, named for example, as app.R and then clicking Run app launches the app.\n\n\n\n1 UI • Layout\nThis is an example to show the layout of widgets on a webpage using shiny functions. fluidPage() is used to define a responsive webpage. titlePanel() is used to define the top bar. sidebarLayout() is used to create a layout that includes a region on the left called side bar panel and a main panel on the right. The contents of these panels are further defined under sidebarPanel() and mainPanel().\nIn the main panel, the use of tab panels are demonstrated. The function tabsetPanel() is used to define a tab panel set and individual tabs are defined using tabPanel(). fluidRow() and column() are used to structure elements within each tab. The width of each column is specified. Total width of columns must add up to 12.\n#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| components: [editor, viewer]\n\n\nui &lt;- fluidPage(\n  titlePanel(\"Title Panel\"),\n  sidebarLayout(\n    sidebarPanel(\n      helpText(\"Sidebar Panel\")\n    ),\n    mainPanel(tabsetPanel(\n      tabPanel(\"tab1\",\n               fluidRow(\n                 column(6,helpText(\"Col1\")),\n                 column(6,\n                        helpText(\"Col2\"),\n                        fluidRow(\n                          column(4,style=\"background-color:#b0c6fb\",\n                                 helpText(\"Col1\")\n                          ),\n                          column(4,style=\"background-color:#ffa153\",\n                                 helpText(\"Col2\")\n                          ),\n                          column(4,style=\"background-color:#b1f6c6\",\n                                 helpText(\"Col3\")\n                          )\n                        )\n                 )\n               )\n      ),\n      tabPanel(\"tab2\",\n               inputPanel(helpText(\"Input Panel\"))\n      ),\n      tabPanel(\"tab3\",\n               wellPanel(helpText(\"Well Panel\"))\n      )\n    )\n    )\n  )\n)\nserver &lt;- function(input,output){}\nshinyApp(ui=ui,server=server)\n\n\n2 UI • Widgets • Input\nInput widgets are used to accept content interactively from the user. These widgets usually end in Input like selectInput(). Below are usage examples of several of shiny’s built-in widgets. Every widget has a variable name which is accessible through input$ in the server function. For example, the value of a variable named text-input would be accessed through input$text-input.\n#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| components: [editor, viewer]\nshinyApp(\nui=fluidPage(\n  fluidRow(\n    column(6,\n           fileInput(\"file-input\",\"fileInput:\"),\n           selectInput(\"select-input\",label=\"selectInput\",choices=c(\"A\",\"B\",\"C\")),\n           numericInput(\"numeric-input\",label=\"numericInput\",value=5,min=1,max=10),\n           sliderInput(\"slider-input\",label=\"sliderInput\",value=5,min=1,max=10),\n           textInput(\"text-input\",label=\"textInput\"),\n           textAreaInput(\"text-area-input\",label=\"textAreaInput\"),\n           dateInput(\"date-input\",label=\"dateInput\"),\n           dateRangeInput(\"date-range-input\",label=\"dateRangeInput\"),\n           radioButtons(\"radio-button\",label=\"radioButtons\",choices=c(\"A\",\"B\",\"C\"),inline=T),\n           checkboxInput(\"checkbox\",\"checkboxInput\",value=FALSE),\n           actionButton(\"action-button\",\"Action\"),\n           hr(),\n           submitButton()\n    )\n  )\n),\nserver=function(input,output){},\noptions=list(height=900))\n\n\n3 UI • Widgets • Outputs\nSimilar to input widgets, output widgets are used to display information to the user on the webpage. These widgets usually end in Output like textOutput(). Every widget has a variable name accessible under output$ to which content is written in the server function. Render functions are used to write content to output widgets. For example renderText() is used to write text data to textOutput() widget.\n#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| components: [editor, viewer]\n\nshinyApp(\n  ui=fluidPage(fluidRow(column(6,\n             textInput(\"text_input\",label=\"textInput\",value=\"&lt;h3 style='color:red'&gt;Red text&lt;/h3&gt;\"),\n             hr(),\n             htmlOutput(\"html_output\"),\n             textOutput(\"text_output\"),\n             verbatimTextOutput(\"verbatim_text_output\"),\n             tableOutput(\"table_output\"),\n             plotOutput(\"plot_output\",width=\"300px\",height=\"300px\")\n      ))),\n  server=function(input, output) {\n    output$html_output &lt;- renderText({input$text_input})\n    output$text_output &lt;- renderText({input$text_input})\n    output$verbatim_text_output &lt;- renderText({input$text_input})\n    output$table_output &lt;- renderTable({iris[1:3,1:3]})\n    output$plot_output &lt;- renderPlot({\n      plot(iris[,1],iris[,2])\n    })\n},\noptions=list(height=700))\nIn this example, we have a text input box which takes user text and outputs it in three different variations. The first output is html output htmlOutput(). Since the default text is html content, the output is red coloured text. A normal non-html text would just look like normal text. The second output is normal text output textOutput(). The third variation is verbatimTextOutput() which displays text in monospaced code style. This example further shows table output and plot output.\n\n\n4 Dynamic UI\nSometimes we want to add, remove or change currently loaded UI widgets conditionally based on dynamic changes in code execution or user input. Conditional UI can be defined using conditionalPanel(), uiOutput()/renderUI(), insertUI() or removeUI. In this example, we will use uiOutput()/renderUI().\nIn the example below, the output plot is displayed only if the selected dataset is iris.\n#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| components: [editor, viewer]\n\nshinyApp(\nui=fluidPage(\n  selectInput(\"data_input\",label=\"Select data\",\n              choices=c(\"mtcars\",\"faithful\",\"iris\")),\n  tableOutput(\"table_output\"),\n  uiOutput(\"ui\")\n),\nserver=function(input,output) {\n  getdata &lt;- reactive({ get(input$data_input, 'package:datasets') })\n  \n  output$ui &lt;- renderUI({\n    if(input$data_input==\"iris\") plotOutput(\"plot_output\",width=\"400px\")\n  })\n  \n  output$plot_output &lt;- renderPlot({hist(getdata()[, 1])})\n  output$table_output &lt;- renderTable({head(getdata())})\n})\nHere, conditional UI is used to selectively display an output widget (plot). Similarly, this idea can be used to selectively display any input or output widget.\n\n\n5 Session info\n\nsessionInfo()\n\nR version 4.4.3 (2025-02-28)\nPlatform: x86_64-pc-linux-gnu\nRunning under: Ubuntu 24.04.1 LTS\n\nMatrix products: default\nBLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3 \nLAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.26.so;  LAPACK version 3.12.0\n\nlocale:\n [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              \n [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    \n [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   \n [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 \n [9] LC_ADDRESS=C               LC_TELEPHONE=C            \n[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       \n\ntime zone: Etc/UTC\ntzcode source: system (glibc)\n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nother attached packages:\n[1] ggplot2_3.5.1 shiny_1.10.0 \n\nloaded via a namespace (and not attached):\n [1] vctrs_0.6.5       cli_3.6.4         knitr_1.50        rlang_1.1.5      \n [5] xfun_0.51         generics_0.1.3    promises_1.3.2    jsonlite_1.9.0   \n [9] xtable_1.8-4      glue_1.8.0        colorspace_2.1-1  htmltools_0.5.8.1\n[13] httpuv_1.6.15     scales_1.3.0      rmarkdown_2.29    grid_4.4.3       \n[17] tibble_3.2.1      evaluate_1.0.3    munsell_0.5.1     fastmap_1.2.0    \n[21] yaml_2.3.10       lifecycle_1.0.4   compiler_4.4.3    dplyr_1.1.4      \n[25] pkgconfig_2.0.3   htmlwidgets_1.6.4 Rcpp_1.0.14       later_1.4.1      \n[29] digest_0.6.37     R6_2.6.1          tidyselect_1.2.1  pillar_1.10.1    \n[33] magrittr_2.0.3    withr_3.0.2       tools_4.4.3       gtable_0.3.6     \n[37] mime_0.12"
  },
  {
    "objectID": "home_contents.html",
    "href": "home_contents.html",
    "title": "Contents",
    "section": "",
    "text": "Note\n\n\n\nThe contents of this course are currently being generated. It will be updated here regularly until the course. Please check the Schedule for the proposed topics and updated materials.\n\n\n\n\n\n\n\n\n\n\n\n\nTopic\nLecture\nTutorial\n\n\n\n\nggplot\n\n\nBasic ggplot\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nAdvanced ggplot\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPCA plot\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nOthers Day 1\n\n\nVector and Bitmap images\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nSingle-cell data\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nQuarto\n\n\nBasic Quarto\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nAdvanced Quarto\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nDynamic Plotting\n\n\nIntro Dynamic plotting\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nAdvanced Dynamic plotting\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nRshiny\n\n\nRshiny Part I\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nRshiny Part II\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nRshiny Part III\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n   Slides    Lab"
  },
  {
    "objectID": "topics/Quarto/slide_quarto1.html#quarto",
    "href": "topics/Quarto/slide_quarto1.html#quarto",
    "title": "Introduction to Quarto",
    "section": "Quarto",
    "text": "Quarto\nAn open-source scientific and technical publishing system\n\nQuarto is a command line tool, not an R package\nQuarto combine codes, comments, and other features to tell a story about your data\nQuarto support numerous output formats\nQuarto documents are fully reproducible"
  },
  {
    "objectID": "topics/Quarto/slide_quarto1.html#installation",
    "href": "topics/Quarto/slide_quarto1.html#installation",
    "title": "Introduction to Quarto",
    "section": "Installation",
    "text": "Installation\n\n\nInstall the latest quarto executable\nR package quarto is a wrapper that runs quarto from R\nIf using RStudio, you need a version v2022.07.1 or newer\nVisual Studio Code along with quarto extension is a great option too"
  },
  {
    "objectID": "topics/Quarto/slide_quarto1.html#quarto-notebook",
    "href": "topics/Quarto/slide_quarto1.html#quarto-notebook",
    "title": "Introduction to Quarto",
    "section": "Quarto notebook",
    "text": "Quarto notebook\nQuarto file – a plain text file that has the extension .qmd\n\n\n---\ntitle: \"Palmer penguins\"\nauthor: \"Katja\"\ndate: today\nformat: \n  html: \n    code-fold: true\n    code-tools: true\n    toc: true\n    number-sections: true\nexecute:\n  warning: false\n---\n\n# Meet the penguins\nThe `palmerpenguins` data contains size measurements for three penguin species \nobserved on three islands in the Palmer Archipelago, Antarctica.\n\n![](./images/lter_penguins.png)\n\nThe three species of penguins have quite distinct \ndistributions of physical dimensions (@fig-penguins).\n\n```{r packages}\n#| label: load packages and data\n#| warning: false\n#| output: false\nlibrary(ggplot2)\nlibrary(palmerpenguins)\nlibrary(dplyr)\ndata(penguins, package = \"palmerpenguins\")\n```\n\n## Bill dimensions\n```{r bill dimensions}\n#| label: fig-penguins\n#| warning: false\n#| fig-cap: \"Bill dimensions of penguins across three species.\"\n#| fig-width: 10\n#| fig-height: 5\n\npenguins %&gt;%\n  ggplot(aes(x = bill_length_mm, y = bill_depth_mm)) +\n  geom_point(aes(color = species, \n                 shape = species),\n             size = 2) + \n  geom_smooth(method = \"lm\", se = FALSE, aes(color = species)) +\n  scale_color_manual(values = c(\"darkorange\",\"darkorchid\",\"cyan4\")) + \n  labs(color = \"Species\", shape = \"Species\") + \n  xlab(\"Bill length (mm)\") + ylab(\"Bill depth (mm)\") + \n  theme_bw()\n```"
  },
  {
    "objectID": "topics/Quarto/slide_quarto1.html#quarto-document-anatomy",
    "href": "topics/Quarto/slide_quarto1.html#quarto-document-anatomy",
    "title": "Introduction to Quarto",
    "section": "Quarto document anatomy",
    "text": "Quarto document anatomy"
  },
  {
    "objectID": "topics/Quarto/slide_quarto1.html#yaml-metadata",
    "href": "topics/Quarto/slide_quarto1.html#yaml-metadata",
    "title": "Introduction to Quarto",
    "section": "YAML metadata",
    "text": "YAML metadata\n\n\n---\ntitle: \"Palmer penguins\"\nsubtitle: \"Intro to Quarto Exercise\"\nauthor: \"Katja\"\ndate: today\nformat: \n  html: \n    code-fold: true\n    code-tools: true\n    toc: true\n    number-sections: true\nexecute:\n  warning: false\n---\n\n\n\nBracketed by ---\nDefines document-wide options\nSpecifies the output format\nCan include several parameters"
  },
  {
    "objectID": "topics/Quarto/slide_quarto1.html#markdown-text",
    "href": "topics/Quarto/slide_quarto1.html#markdown-text",
    "title": "Introduction to Quarto",
    "section": "Markdown text",
    "text": "Markdown text\n\n\nImages, tables, text, etc.\nFreely add and format text using markdown\n\n\n\n# Meet the penguins\nThe `palmerpenguins` data contains size measurements for three penguin species \nobserved on three islands in the Palmer Archipelago, Antarctica.\n\n![](./images/lter_penguins.png)\n\nThe three species of penguins have quite distinct \ndistributions of physical dimensions (@fig-penguins).\n\n## Bill dimensions"
  },
  {
    "objectID": "topics/Quarto/slide_quarto1.html#code-chunks",
    "href": "topics/Quarto/slide_quarto1.html#code-chunks",
    "title": "Introduction to Quarto",
    "section": "Code chunks",
    "text": "Code chunks\n\n\nCode blocks are called code chunks\nEvaluate code and show its output\nSpecify global and/or local chunk options (e.g. figure dimensions)\nAlso works with other languages (e.g. Python)\n\n\n\n## Bill dimensions\n```{r bill dimensions}\n#| label: fig-penguins\n#| warning: false\n#| fig-cap: \"Bill dimensions of penguins across three species.\"\n#| fig-width: 10\n#| fig-height: 5\n\npenguins %&gt;%\n  ggplot(aes(x = bill_length_mm, y = bill_depth_mm)) +\n  geom_point(aes(color = species, \n                 shape = species),\n             size = 2) + \n  geom_smooth(method = \"lm\", se = FALSE, aes(color = species)) +\n  scale_color_manual(values = c(\"darkorange\",\"darkorchid\",\"cyan4\")) + \n  labs(color = \"Species\", shape = \"Species\") + \n  xlab(\"Bill length (mm)\") + ylab(\"Bill depth (mm)\") + \n  theme_bw()\n```"
  },
  {
    "objectID": "topics/Quarto/slide_quarto1.html#rendering-quarto-document",
    "href": "topics/Quarto/slide_quarto1.html#rendering-quarto-document",
    "title": "Introduction to Quarto",
    "section": "Rendering Quarto document",
    "text": "Rendering Quarto document\n\n\nLive preview\n\nFrom R console: quarto::quarto_preview(\"report.qmd\")\nFrom terminal: quarto preview report.qmd\n\n\n\n\n\nRender\n\nInteractively using the Render button\nFrom R console: quarto::quarto_render(\"report.qmd\")\nFrom terminal: quarto render report.qmd"
  },
  {
    "objectID": "topics/Quarto/slide_quarto1.html#how-rendering-works",
    "href": "topics/Quarto/slide_quarto1.html#how-rendering-works",
    "title": "Introduction to Quarto",
    "section": "How rendering works?",
    "text": "How rendering works?"
  },
  {
    "objectID": "topics/Quarto/slide_quarto1.html#output-formats",
    "href": "topics/Quarto/slide_quarto1.html#output-formats",
    "title": "Introduction to Quarto",
    "section": "Output formats",
    "text": "Output formats\n\n\nReports and general documents (HTML, PDF, Jupyter Notebook, Microsoft Word)\nPresentations (reveal.js, PowerPoint, Beamer)\nInteractive documents (Observable, R Shiny)\nBooks, blogs and websites\nJournal articles"
  },
  {
    "objectID": "topics/Quarto/slide_quarto1.html#moving-between-output-formats-is-straightforward",
    "href": "topics/Quarto/slide_quarto1.html#moving-between-output-formats-is-straightforward",
    "title": "Introduction to Quarto",
    "section": "Moving between output formats is straightforward",
    "text": "Moving between output formats is straightforward\n\n\n\nDocument HTML\n\n lesson-1.qmd\n\ntitle: \"Lesson 1\"\nformat: html\n\n\n\nDocument PDF\n\n lesson-1.qmd\n\ntitle: \"Lesson 1\"\nformat: pdf\n\n\n\nPresentation\n\n lesson-1.qmd\n\ntitle: \"Lesson 1\"\nformat: revealjs\n\n\n\nWebsite\n\n _quarto.yml\n\nproject:\n  type: website\n\nwebsite: \n  navbar: \n    left:\n      - lesson-1.qmd\n\n\n\n\nBook\n\n _quarto.yml\n\nproject:\n  type: book\n\nwebsite: \n  navbar: \n    left:\n      - lesson-1.qmd"
  },
  {
    "objectID": "topics/Quarto/slide_quarto1.html#key-advantages-of-quarto",
    "href": "topics/Quarto/slide_quarto1.html#key-advantages-of-quarto",
    "title": "Introduction to Quarto",
    "section": "Key advantages of Quarto",
    "text": "Key advantages of Quarto\n\n\nText, code snippets, and visualizations in a single document\nSupports multiple programming languages (R, Python, Julia, etc.)\nVarious output formats (HTML, PDF, presentations, etc.)\nCompatible with multiple editors (RStudio, VS Code, Jupyter Lab, etc.)\nInteractive elements (Shiny apps, HTML widgets, or JavaScript visualizations) can be incorporated directly into documents\nReproducible and transparent workflows\nEasy collaboration and sharing"
  },
  {
    "objectID": "topics/Quarto/slide_quarto1.html#sources",
    "href": "topics/Quarto/slide_quarto1.html#sources",
    "title": "Introduction to Quarto",
    "section": "Sources",
    "text": "Sources\n\n\nR for Data Science book\nHello Quarto\nGuides\nRaukR 2024 (Quarto by Roy Francis)\nGetting started with Quarto\nQuarto cheatsheet"
  },
  {
    "objectID": "topics/Quarto/slide_quarto1.html#section",
    "href": "topics/Quarto/slide_quarto1.html#section",
    "title": "Introduction to Quarto",
    "section": "",
    "text": "Thank you. Questions?"
  },
  {
    "objectID": "home_syllabus.html",
    "href": "home_syllabus.html",
    "title": "Syllabus",
    "section": "",
    "text": "SyllabusLearning outcomesEntry requirements\n\n\nThe syllabus for this workshop are as follows.\n\nAdvanced level\n\nUsing the language of graphics: ggplot2\nBasic and advanced plotting in ggplot2\nSingle-cell data visualizations with Seurat\nQuarto notebooks and reports\nDynamic plotting with Quarto\nInteractive web apps with Shiny\n\nBeginner level\n\nHandle data in R for visualizations\nApply ggplot grammar to get publication-grade plots\nCombine different data and/or different plots\nPCA, Heatmaps, Phylogenetic trees and Maps\n\n\n\n\nAfter this workshop you should be able to:\n\nAdvanced level\n\nHandle data in R for visualizations\nFamiliarize with ggplot2 functions and techniques at adavanced level\nCombine different data and/or different plots that are of publication-ready\nCreate interactive documents with Quarto for data exploration and analysis\nWrite your own simple Shiny app in R\n\nBeginner level\n\nHandle data in R for visualizations\nApply the grammar efficiently in ggplot to obtain the desired plot\nCombine different data and/or different plots that are of publication-grade\n\n\n\n\n\nFamiliarity with R and R Studio\nPlotting using standard R graphics\nParticipants are expected to use their own computers with pre-installed R, R Studio and different R packages (detailed instructions will be given upon acceptance)."
  },
  {
    "objectID": "home_precourse.html",
    "href": "home_precourse.html",
    "title": "Precourse",
    "section": "",
    "text": "Detailed instructions on the tools necessary for this course and the means of installation will be updated here closer to the schedule. So, keep an eye on this page until then."
  },
  {
    "objectID": "home_precourse.html#installations",
    "href": "home_precourse.html#installations",
    "title": "Precourse",
    "section": "",
    "text": "Detailed instructions on the tools necessary for this course and the means of installation will be updated here closer to the schedule. So, keep an eye on this page until then."
  },
  {
    "objectID": "home_precourse.html#preparations",
    "href": "home_precourse.html#preparations",
    "title": "Precourse",
    "section": "2 Preparations",
    "text": "2 Preparations\nTo prepare for the course, you can follow one of the links below to warm up your skills necessary for the course.\n\n\n\n\n\n\nTip\n\n\n\n\nBeginner-level: Basic warm-up exercises in R\nAdvanced-level: ggplot warm-up"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "",
    "section": "",
    "text": "Using the language of graphics: ggplot2\nBasic and advanced plotting in ggplot2\nSingle-cell data visualizations with Seurat\nQuarto notebooks and reports\nDynamic plotting with quarto\nInteractive web apps with Shiny\n\n\n\nBeginner-level course content\n\n\nUpdated: 28-03-2025 at 13:19:19 ."
  },
  {
    "objectID": "index.html#advanced-data-visualization",
    "href": "index.html#advanced-data-visualization",
    "title": "",
    "section": "",
    "text": "Using the language of graphics: ggplot2\nBasic and advanced plotting in ggplot2\nSingle-cell data visualizations with Seurat\nQuarto notebooks and reports\nDynamic plotting with quarto\nInteractive web apps with Shiny\n\n\n\nBeginner-level course content\n\n\nUpdated: 28-03-2025 at 13:19:19 ."
  },
  {
    "objectID": "home_info.html",
    "href": "home_info.html",
    "title": "Practical Info",
    "section": "",
    "text": "Lund_mv\n\n\n\n\n\n\n\n\n\n\nRoom E24\nBuilding 404\nMedicon Village\nScheelevägen 2\n223 63 Lund\nSweden\nFor Lund city buses, tram, regional buses and regional trains, use skanetrafiken.se. You can buy a ticket at the central station in Lund or at the regional bus (card only). You can also use the app Skånetrafiken From the Lund C the easiest is to take the tram from Clemens torget towards ESS and get off at Lund Ideontorget. The trip take about 5 minutes and a tram leaves about four times an hour.\n\n\n\n\n\nThe lunches during the course will be provided at Cafe Bryggan located at IKDC Building which is 5 minutes walk from the course location. The location of the restaurant is here.\n\n\n\nThe restaurant for the dinner on the 2nd day will be at Valvet Steakhouse."
  },
  {
    "objectID": "home_info.html#location",
    "href": "home_info.html#location",
    "title": "Practical Info",
    "section": "",
    "text": "Lund_mv\n\n\n\n\n\n\n\n\n\n\nRoom E24\nBuilding 404\nMedicon Village\nScheelevägen 2\n223 63 Lund\nSweden\nFor Lund city buses, tram, regional buses and regional trains, use skanetrafiken.se. You can buy a ticket at the central station in Lund or at the regional bus (card only). You can also use the app Skånetrafiken From the Lund C the easiest is to take the tram from Clemens torget towards ESS and get off at Lund Ideontorget. The trip take about 5 minutes and a tram leaves about four times an hour.\n\n\n\n\n\nThe lunches during the course will be provided at Cafe Bryggan located at IKDC Building which is 5 minutes walk from the course location. The location of the restaurant is here.\n\n\n\nThe restaurant for the dinner on the 2nd day will be at Valvet Steakhouse."
  },
  {
    "objectID": "home_info.html#contact",
    "href": "home_info.html#contact",
    "title": "Practical Info",
    "section": "Contact",
    "text": "Contact\nThis workshop is run by the National Bioinformatics Infrastructure Sweden (NBIS). NBIS is a platform that is part of SciLifeLab.\nIf you would like to get in touch with us regarding this workshop, please contact us at edu.plotting.r@nbis.se.\nIf you would like to get in touch with us regarding the course at GitHub, kindly write to us at the issues page."
  },
  {
    "objectID": "topics/Shiny/lab_shiny2.html",
    "href": "topics/Shiny/lab_shiny2.html",
    "title": "RShiny Lab: Part II",
    "section": "",
    "text": "We will here first look into the example of what the automatic reactivity of Rshiny looks like. The reactive functions like renderPlot() and renderPrint() are always looking for any changes in the input values and are updated quickly! Although this is super handy for any app, sometimes this can lead to unwanted confusion. Like, take the R function rnorm(), this function basically spits out random numbers. If you use this function in an app, everytime this function is called, it will output different random number sets. This can cause problems like in the example below:\n Task   Try to change the slider input values and check if the summary and hist match with each other?\n#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| components: [editor, viewer]\nui &lt;- fluidPage(\n  sliderInput(inputId = \"num\", \n    label = \"Choose a number\", \n    value = 25, min = 1, max = 100),\n  plotOutput(\"hist\"),\n  verbatimTextOutput(\"stats\")\n)\n\nserver &lt;- function(input, output) {\n  output$hist &lt;- renderPlot({\n    hist(rnorm(input$num))\n  })\n  output$stats &lt;- renderPrint({\n    summary(rnorm(input$num))\n  })\n}\n\nshinyApp(ui = ui, server = server)\nSo, in order to make it consistent, we have to use the rnorm() only once and save it as a reactive function and then apply it to both the hist() and summary(). We do this by using reactive() function to store it as a variable. See the example below:\n#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| components: [editor, viewer]\nui &lt;- fluidPage(\n  sliderInput(inputId = \"num\", \n    label = \"Choose a number\", \n    value = 25, min = 1, max = 100),\n  plotOutput(\"hist\"),\n  verbatimTextOutput(\"stats\")\n)\n\nserver &lt;- function(input, output) {\n  \n  data &lt;- reactive({\n    rnorm(input$num)\n  })\n  \n  output$hist &lt;- renderPlot({\n    hist(data())\n  })\n  output$stats &lt;- renderPrint({\n    summary(data())\n  })\n}\n\nshinyApp(ui = ui, server = server)\n Note   As the data variable we have in the example above is a reactive function, you have to remember to use () whenever you call that particular variable."
  },
  {
    "objectID": "topics/Shiny/lab_shiny2.html#rmarkdown",
    "href": "topics/Shiny/lab_shiny2.html#rmarkdown",
    "title": "RShiny Lab: Part II",
    "section": "8.1 Rmarkdown",
    "text": "8.1 Rmarkdown\nShiny interactive widgets can be embedded into Rmarkdown documents. These documents need to be live and can handle interactivity. The important addition is the line runtime: shiny to the YAML matter. Here is an example:\n\n\n---\nruntime: shiny\noutput: html_document\n---\n\n```{r}\nlibrary(shiny)\n```\n\nThis is a standard RMarkdown document. Here is some code:\n\n```{r}\nhead(iris)\n```\n\n```{r}\nplot(iris$Sepal.Length,iris$Petal.Width)\n```\n\nBut, here is an interactive shiny widget.\n\n```{r}\nsliderInput(\"in_breaks\",label=\"Breaks:\",min=5,max=50,value=5,step=5)\n```\n\n```{r}\nrenderPlot({\nhist(iris$Sepal.Length,breaks=input$in_breaks)\n})\n```\n\n\nThis code can be copied to a new file in RStudio and saved as, for example, shiny.Rmd. Then click Knit. Alternatively, you can run rmarkdown::run(\"shiny.Rmd\")."
  },
  {
    "objectID": "topics/Shiny/lab_shiny2.html#quarto",
    "href": "topics/Shiny/lab_shiny2.html#quarto",
    "title": "RShiny Lab: Part II",
    "section": "8.2 Quarto",
    "text": "8.2 Quarto\nSimialrly, you can do the same in quarto. Just change the yaml header of the previous code with the following:\n\n\n---\nformat: html\nserver: shiny\n---\n\n\nAlso under the server part of the code-chunk, add #| context: server\nThis could be saved as shiny.qmd and could be rendered in the bash terminal by quarto render shiny.qmd\nMore information about using shiny and quarto together is here"
  },
  {
    "objectID": "home_schedule.html",
    "href": "home_schedule.html",
    "title": "Schedule",
    "section": "",
    "text": "Note\n\n\n\nBreaks are planned for approximately at 10:15 and 15:00 every day.\n\n\n\n\n\n\n\n\nTime\nTopic\nInstructor\n\n\n \n13-May-2025TueRoom E24, Building 404, Medicon Village\n\n09:00 - 09:15\nWelcome\nMarkus Ringner\n\n\n09:15 - 10:15\nggplot basics\nLokesh Mano\n\n\n10:15 - 10:30\nBreak\n\n\n\n10:30 - 12:00\nAdvanced ggplot\nLokesh Mano\n\n\n12:00 - 13:00\nLunch\n\n\n\n13:00 - 13:30\nVector and bitmap images\nMarkus Ringner\n\n\n13:30 - 15:00\nPCA plots\nMarkus Ringner\n\n\n15:00 - 15:30\nFika\n\n\n\n15:30 - 16:30\nSingle-cell data visualizations\nLokesh Mano\n\n\n16:30 - 17:00\nWrap-up day I\nLokesh Mano\n \n14-May-2025WedRoom E24, Building 404, Medicon Village\n\n09:00 - 10:15\nIntro to Quarto\nKatja Kozjek\n\n\n10:15 - 10:30\nBreak\n\n\n\n10:30 - 12:00\nAdvanced Quarto\nLokesh Mano\n\n\n12:00 - 13:00\nLunch\n\n\n\n13:00 - 15:00\nIntro to dynamic plotting\nKatja Kozjek\n\n\n13:30 - 15:30\nFika\n\n\n\n15:30 - 16:30\nAdvanced dynamic plotting\nLokesh Mano\n\n\n16:30 - 17:00\nWrap-up day II\nLokesh Mano\n \n14-May-2025WedRestaurang Valvet\n\n18:30 - 22:00\nDinner\n\n \n15-May-2025ThuRoom E24, Building 404, Medicon Village\n\n09:00 - 10:15\nIntro to R-Shiny app\nLokesh Mano\n\n\n10:15 - 10:30\nBreak\n\n\n\n10:30 - 12:00\nR-Shiny apps part-II\nLokesh Mano\n\n\n12:00 - 13:00\nLunch\n\n\n\n13:00 - 15:00\nR-Shiny apps part-III\nLokesh Mano\n\n\n15:00 - 15:30\nFika\n\n\n\n15:30 - 16:30\nOwn shiny app\n\n\n\n16:30 - 16:45\nWrap-up day III\nLokesh Mano\n\n\n16:45 - 17:00\nClosing and feedback sessions\nLokesh Mano\n\n\n\n\n\n\n\n   Date    Venue    Slides    Lab    Video"
  },
  {
    "objectID": "topics/Shiny/slide_shiny1.html#contents",
    "href": "topics/Shiny/slide_shiny1.html#contents",
    "title": "Introduction to R Shiny",
    "section": "Contents",
    "text": "Contents\n\nIntroduction to RShiny\nCode Structure\nApp execution\nUI\n\nDynamic UI\n\nServer"
  },
  {
    "objectID": "topics/Shiny/slide_shiny1.html#section",
    "href": "topics/Shiny/slide_shiny1.html#section",
    "title": "Introduction to R Shiny",
    "section": "",
    "text": "K-means sidebar, simple\n\n\n\n\n\n\n\nMovie explorer sidebar, simple\n\n\n\n\n\n\n\nfreeR simple\n\n\n\n\n\n\n\nSuperZip intermediate, geo\n\n\n\n\n\n\n\nWorkout creator intermediate\n\n\n\n\n\n\n\nWildLift intermediate, dashboard\n\n\n\n\n\n\n\nCovid tracker intermediate\n\n\n\n\n\n\n\nCashflow calc intermediate\n\n\n\n\n\n\n\nGenome browser intermediate\n\n\n\n\n\n\n\nSpecies selection adv\n\n\n\n\n\n\n\nProtein structure adv, dashboard\n\n\n\n\n\n\n\nCommute explorer adv, geo\n\n\n\n\n\n\n\nSteam explorer adv, dashboard\n\n\n\n\n\n\n\nSystem pipe adv, dashboard\n\n\n\n\n\n\n\nShark attack adv"
  },
  {
    "objectID": "topics/Shiny/slide_shiny1.html#what-is-shiny",
    "href": "topics/Shiny/slide_shiny1.html#what-is-shiny",
    "title": "Introduction to R Shiny",
    "section": "What is shiny?",
    "text": "What is shiny?\n\n\nInteractive documents & web applications\nCompletely created using R or Python\nNeeds a live environment\nshiny.posit.co/r/gallery/\nshinyapps.org\n\n\n\n\nUsage\n\nStandalone web applications\nDashboard/Flexboard\nInteractive RMarkdown\nVScode extensions\n\n\n\n\nApp structure\n\nUI Layout\nUI Inputs (Widgets)\nUI Outputs\nRenderer\nBuilder"
  },
  {
    "objectID": "topics/Shiny/slide_shiny1.html#app-organization",
    "href": "topics/Shiny/slide_shiny1.html#app-organization",
    "title": "Introduction to R Shiny",
    "section": "App organization",
    "text": "App organization\nOne file format\n\n\n\napp.r\n\nui &lt;- fluidPage()\nserver &lt;- function(input,output) {}\nshinyApp(ui=ui,server=server)\n\n\n\nTwo file format\n\n\n\nui.r\n\nui &lt;- fluidPage()\n\n\n\n\n\nserver.r\n\nserver &lt;- function(input,output) {}"
  },
  {
    "objectID": "topics/Shiny/slide_shiny1.html#app-execution",
    "href": "topics/Shiny/slide_shiny1.html#app-execution",
    "title": "Introduction to R Shiny",
    "section": "App execution",
    "text": "App execution\n\nRun shiny::runApp(\"path/to/folder\")\n\n\n\nUse shinyApp()\n\n\nshinyApp(\n  ui=fluidPage(),\n  server=function(input,output) {}\n)\n\n\n\n\nRunning as a separate process from terminal\n\nR -e \"shiny::runApp('~/shinyapp')\"\n\n\n\nFrom Rmd file using rmarkdown::run()"
  },
  {
    "objectID": "topics/Shiny/slide_shiny1.html#section-1",
    "href": "topics/Shiny/slide_shiny1.html#section-1",
    "title": "Introduction to R Shiny",
    "section": "",
    "text": "User Interface (UI)"
  },
  {
    "objectID": "topics/Shiny/slide_shiny1.html#ui",
    "href": "topics/Shiny/slide_shiny1.html#ui",
    "title": "Introduction to R Shiny",
    "section": "UI",
    "text": "UI\n#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| components: [editor, viewer]\nshinyApp(\nui=fluidPage(\n  titlePanel(\"Title Panel\"),\n  sidebarLayout(\n    sidebarPanel(\n      helpText(\"Sidebar Panel\")\n    ),\n    mainPanel(\n      \"hello\"\n    )\n  )\n),\nserver=function(input,output) {})"
  },
  {
    "objectID": "topics/Shiny/slide_shiny1.html#language-of-the-web-html-css-javascript",
    "href": "topics/Shiny/slide_shiny1.html#language-of-the-web-html-css-javascript",
    "title": "Introduction to R Shiny",
    "section": "Language of the web: HTML, CSS & Javascript",
    "text": "Language of the web: HTML, CSS & Javascript\n\n\nHypertext Markup Language (HTML)\n\nAll UI code is translated to HTML\nInspect with browser\n\n\nsidebarPanel(helpText(\"Sidebar Panel\"))\n\n&lt;div class=\"col-sm-4\"&gt;\n  &lt;form class=\"well\" role=\"complementary\"&gt;\n    &lt;span class=\"help-block\"&gt;Sidebar Panel&lt;/span&gt;\n  &lt;/form&gt;\n&lt;/div&gt;\n\nCascading style sheet (CSS)\n\nShiny is built on Bootstrap 3"
  },
  {
    "objectID": "topics/Shiny/slide_shiny1.html#section-2",
    "href": "topics/Shiny/slide_shiny1.html#section-2",
    "title": "Introduction to R Shiny",
    "section": "",
    "text": "#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| components: [editor, viewer]\nshinyApp(\nui=fluidPage(\n  titlePanel(\"Title Panel\"),\n  sidebarLayout(sidebarPanel(helpText(\"Sidebar Panel\")),\n    mainPanel(tabsetPanel(\n                tabPanel(\"tab1\",\n                         fluidRow(\n                           column(6,helpText(\"Col1\")),\n                           column(6,\n                                  helpText(\"Col2\"),\n                                  fluidRow(\n                                    column(4,style=\"background-color:#b0c6fb\",helpText(\"Col1\")),\n                                    column(4,style=\"background-color:#ffa153\",helpText(\"Col2\")),\n                                    column(4,style=\"background-color:#b1f6c6\",helpText(\"Col3\"))\n                                  )\n                           )\n                         )\n                ),\n                tabPanel(\"tab2\",\n                         inputPanel(helpText(\"Input Panel\"))\n                ),\n                tabPanel(\"tab3\",\n                  wellPanel(helpText(\"Well Panel\"))\n                )\n              )\n    )\n  )\n),\nserver=function(input,output) {})"
  },
  {
    "objectID": "topics/Shiny/slide_shiny1.html#ui-widgets-input",
    "href": "topics/Shiny/slide_shiny1.html#ui-widgets-input",
    "title": "Introduction to R Shiny",
    "section": "UI • Widgets • Input",
    "text": "UI • Widgets • Input\n#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| components: [editor, viewer]\n\nshinyApp(\nui=fluidPage(\n  fluidRow(\n    column(4,\n           selectInput(\"select-input\",\n                       label=\"selectInput\",\n                       choices=c(\"A\",\"B\",\"C\")),\n    )\n  )\n),\nserver=function(input,output) {\n})\n\n\n?selectInput\nselectInput(inputId, label, choices, selected = NULL, multiple = FALSE, \n            selectize = TRUE, width = NULL, size = NULL\n)\n\n\nInput ID has to be unique"
  },
  {
    "objectID": "topics/Shiny/slide_shiny1.html#ui-widgets-input-1",
    "href": "topics/Shiny/slide_shiny1.html#ui-widgets-input-1",
    "title": "Introduction to R Shiny",
    "section": "UI • Widgets • Input",
    "text": "UI • Widgets • Input\n#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| components: [editor, viewer]\n\nshinyApp(\nui=fluidPage(\n  fluidRow(\n    column(4,\n           fileInput(\"file-input\",\"fileInput:\"),\n           selectInput(\"select-input\",label=\"selectInput\",choices=c(\"A\",\"B\",\"C\")),\n           sliderInput(\"slider-input\",label=\"sliderInput\",value=5,min=1,max=10),\n           numericInput(\"numeric-input\",label=\"numericInput\",value=5,min=1,max=10),\n           textInput(\"text-input\",label=\"textInput\"),\n           textAreaInput(\"text-area-input\",label=\"textAreaInput\"),\n           dateInput(\"date-input\",label=\"dateInput\"),\n           dateRangeInput(\"date-range-input\",label=\"dateRangeInput\"),\n           radioButtons(\"radio-button\",label=\"radioButtons\",choices=c(\"A\",\"B\",\"C\"),inline=T),\n           checkboxInput(\"checkbox\",\"checkboxInput\",value=FALSE),\n           actionButton(\"action-button\",\"Action\"),\n           hr(),\n           submitButton()\n    )\n  )\n),\nserver=function(input,output) {\n})\n\n\nWidgets gallery\n\nWidgets are visual objects on a page to allow for data input. Input and output variables."
  },
  {
    "objectID": "topics/Shiny/slide_shiny1.html#ui-widgets-input-functions",
    "href": "topics/Shiny/slide_shiny1.html#ui-widgets-input-functions",
    "title": "Introduction to R Shiny",
    "section": "UI • Widgets • Input Functions",
    "text": "UI • Widgets • Input Functions\n\n\n\n\n\nFunction\nDescription\n\n\n\n\ncheckboxInput()\nCheckbox\n\n\ncheckboxGroupInput()\nCheckbox group\n\n\nradioButtons()\nRadio buttons\n\n\ndateInput()\nSingle date\n\n\ndateRangeInput()\nDate range\n\n\nfileInput()\nUpload file\n\n\nnumericInput()\nInput number\n\n\nsliderInput()\nInput number\n\n\n\n\n\n\n\nFunction\nDescription\n\n\n\n\ntextInput()\nSingle line text input\n\n\ntextAreaInput()\nMulti-line text input\n\n\npasswordInput()\nPassword input\n\n\nselectInput()\nDropdown selection\n\n\nactionButton()\nAction button\n\n\nsubmitButton()\nSubmit button\n\n\ntabsetPanel()\nTabset panel\n\n\nnavbarPage()\nPage with navbar\n\n\n\n\nWidgets gallery"
  },
  {
    "objectID": "topics/Shiny/slide_shiny1.html#ui-widgets-outputs",
    "href": "topics/Shiny/slide_shiny1.html#ui-widgets-outputs",
    "title": "Introduction to R Shiny",
    "section": "UI • Widgets • Outputs",
    "text": "UI • Widgets • Outputs\n#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| components: [editor, viewer]\nshinyApp(\nui=fluidPage(\n           textInput(\"text_input\",label=\"textInput\",value=\"hello world\"),\n           textOutput(\"text_output\")\n    ),\nserver=function(input, output) {\n  output$text_output &lt;- renderText({input$text_input})\n})\n\n\n?textOutput\ntextOutput(outputId)\n\n\nOutput ID has to be unique"
  },
  {
    "objectID": "topics/Shiny/slide_shiny1.html#ui-widgets-outputs-1",
    "href": "topics/Shiny/slide_shiny1.html#ui-widgets-outputs-1",
    "title": "Introduction to R Shiny",
    "section": "UI • Widgets • Outputs",
    "text": "UI • Widgets • Outputs\n#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| components: [editor, viewer]\nshinyApp(\nui=fluidPage(fluidRow(column(5,\n           textInput(\"text_input\",label=\"textInput\",value=\"&lt;h3 style='color:red'&gt;Red text&lt;/h3&gt;\"),\n           hr(),\n           htmlOutput(\"html_output\"),\n           textOutput(\"text_output\"),\n           verbatimTextOutput(\"verbatim_text_output\"),\n           tableOutput(\"table_output\"),\n           plotOutput(\"plot_output\",width=\"300px\",height=\"300px\")\n    ))),\n\nserver=function(input, output) {\n  output$html_output &lt;- renderText({input$text_input})\n  output$text_output &lt;- renderText({input$text_input})\n  output$verbatim_text_output &lt;- renderText({input$text_input})\n  output$table_output &lt;- renderTable({iris[1:3,1:3]})\n  output$plot_output &lt;- renderPlot({\n    plot(iris[,1],iris[,2])\n  })\n})"
  },
  {
    "objectID": "topics/Shiny/slide_shiny1.html#ui-widgets-output-functions",
    "href": "topics/Shiny/slide_shiny1.html#ui-widgets-output-functions",
    "title": "Introduction to R Shiny",
    "section": "UI • Widgets • Output Functions",
    "text": "UI • Widgets • Output Functions\n\n\n\nOutput\nRenderer\nDescription\n\n\n\n\ntextOutput()\nrenderText()/renderPrint()\nStandard text\n\n\nverbatimTextOutput()\nrenderText()/renderPrint()\nMonospaced text\n\n\nhtmlOutput()\nrenderText()/renderPrint()\nHTML text output\n\n\nplotOutput()\nrenderPlot()\nCreate and display image\n\n\nimageOutput()\nrenderImage()\nDisplay existing image\n\n\ntableOutput()\nrenderTable()\nTable output\n\n\nuiOutput()\nrenderUI()\nHTML components"
  },
  {
    "objectID": "topics/Shiny/slide_shiny1.html#a-complete-app",
    "href": "topics/Shiny/slide_shiny1.html#a-complete-app",
    "title": "Introduction to R Shiny",
    "section": "A complete app",
    "text": "A complete app\n#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| components: [editor, viewer]\nshinyApp(\nui = fluidPage(\n  h3(\"Temperature Converter\"),\n  numericInput(\"celsius\", \"Degrees Celsius:\", value = 0),\n  textOutput(\"fahrenheit\")\n),\n\nserver = function(input, output) {\n  output$fahrenheit &lt;- renderText({\n    paste(input$celsius, \"°C is \", (input$celsius * 9/5) + 32, \" °F\")\n  })\n})"
  },
  {
    "objectID": "topics/Shiny/slide_shiny1.html#dynamic-ui",
    "href": "topics/Shiny/slide_shiny1.html#dynamic-ui",
    "title": "Introduction to R Shiny",
    "section": "Dynamic UI",
    "text": "Dynamic UI\n\nUI elements are created conditionally using uiOutput()/renderUI()\n\n\n\nshinyApp(\nui=fluidPage(\n  selectInput(\"type\",label=\"Select input type\", choices=c(\"Text\",\"Number\")),\n  uiOutput(\"ui\"),\n  textOutput(\"text_output\"),\n),\n\nserver=function(input, output) {\n  \n output$ui &lt;- renderUI({\n    if(input$type==\"Text\") {\n      textInput(\"input_text\",\"Enter text\")\n    }else{\n      sliderInput(\"input_number\", \"Select number\", value=5, min=1, max=10)\n    }\n  })\n  \n  output$text_output &lt;- renderText({\n    if(input$type==\"Text\") {\n      input$input_text\n    }else{\n      input$input_number\n    }\n  })\n})\n\n\n\n\nOther options include conditionalPanel(), insertUI() and removeUI()"
  },
  {
    "objectID": "topics/Shiny/slide_shiny1.html#rendering-ui",
    "href": "topics/Shiny/slide_shiny1.html#rendering-ui",
    "title": "Introduction to R Shiny",
    "section": "Rendering UI",
    "text": "Rendering UI\n#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| components: [editor, viewer]\nshinyApp(\nui=fluidPage(\n  selectInput(\"type\", label=\"Select input type\", choices=c(\"Text\",\"Number\")),\n  uiOutput(\"ui\"),\n  textOutput(\"text_output\"),\n),\n\nserver=function(input, output) {\n  \n output$ui &lt;- renderUI({\n    if(input$type==\"Text\") {\n      textInput(\"input_text\", \"Enter text\", value=\"hello\")\n    }else{\n      sliderInput(\"input_number\", \"Select number\", value=5, min=1, max=10)\n    }\n  })\n  \n  output$text_output &lt;- renderText({\n    if(input$type==\"Text\") {\n      input$input_text\n    }else{\n      input$input_number\n    }\n  })\n})"
  },
  {
    "objectID": "topics/Shiny/slide_shiny1.html#rendering-ui-1",
    "href": "topics/Shiny/slide_shiny1.html#rendering-ui-1",
    "title": "Introduction to R Shiny",
    "section": "Rendering UI",
    "text": "Rendering UI\n#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| components: [editor, viewer]\n\nshinyApp(\nui=fluidPage(\n  selectInput(\"data\",label=\"Select data\",\n              choices=c(\"mtcars\",\"faithful\",\"iris\")),\n  tableOutput(\"table\"),\n  uiOutput(\"ui\")\n),\n\nserver=function(input, output) {\n  \n  data &lt;- reactive({ get(input$data, 'package:datasets') })\n  \n output$ui &lt;- renderUI({\n  if(input$data==\"iris\") plotOutput(\"plot\",width=\"400px\")\n  })\n  \n  output$plot &lt;- renderPlot({hist(data()[, 1])})\n  output$table &lt;- renderTable({head(data())})\n})"
  },
  {
    "objectID": "topics/Shiny/slide_shiny1.html#rendering-ui-2",
    "href": "topics/Shiny/slide_shiny1.html#rendering-ui-2",
    "title": "Introduction to R Shiny",
    "section": "Rendering UI",
    "text": "Rendering UI\n#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| components: [editor, viewer]\n\nshinyApp(\nui=fluidPage(\n  sliderInput(\"persons\",label=\"Select number of persons\", value=1, min=1,max=4),\n  uiOutput(\"ui\")\n),\n\nserver=function(input, output) {\n  output$ui &lt;- renderUI({\n    lapply(1:input$persons, function(i) {\n         div(\n           textInput(paste0(\"name\",i),\"Enter name:\",paste0(\"Person \",i)),\n           textInput(paste0(\"tel\",i),\"Enter phone number:\",value = \"0773921562\"),\n           hr()\n         )\n    })\n  })\n})"
  },
  {
    "objectID": "topics/Shiny/slide_shiny1.html#server",
    "href": "topics/Shiny/slide_shiny1.html#server",
    "title": "Introduction to R Shiny",
    "section": "Server",
    "text": "Server\n\nServer is a function that assembles your input into output using R based code.\nThree rules to be followed to write a server function:\n\n\nRule 1: Save objects to display to output$"
  },
  {
    "objectID": "topics/Shiny/slide_shiny1.html#server-1",
    "href": "topics/Shiny/slide_shiny1.html#server-1",
    "title": "Introduction to R Shiny",
    "section": "Server",
    "text": "Server\nRule 2: Build objects to display with render*()\n\nR-Code block (can even be an entire R script) between the braces {} inside the render*() function.\n\n\n\n  output$hist &lt;- renderPlot({\n                    tile &lt;- \"histogram of 100 random numbers\"\n                    hist(rnorm(100), main = title)\n                })\n\n\n\n\nDifferent Render functions"
  },
  {
    "objectID": "topics/Shiny/slide_shiny1.html#server-2",
    "href": "topics/Shiny/slide_shiny1.html#server-2",
    "title": "Introduction to R Shiny",
    "section": "Server",
    "text": "Server\nRule 3: Use input values with input$"
  },
  {
    "objectID": "topics/Shiny/slide_shiny1.html#section-3",
    "href": "topics/Shiny/slide_shiny1.html#section-3",
    "title": "Introduction to R Shiny",
    "section": "",
    "text": "Thank you. Questions?\nSlide inspirations: Roy Francis (NBIS, RaukR2024)"
  },
  {
    "objectID": "topics/Shiny/slide_shiny3.html#contents",
    "href": "topics/Shiny/slide_shiny3.html#contents",
    "title": "R Shiny - Part III",
    "section": "Contents",
    "text": "Contents\n\nModules\nDebugging\nThemes\nDeployment\nInteractive documents"
  },
  {
    "objectID": "topics/Shiny/slide_shiny3.html#modules",
    "href": "topics/Shiny/slide_shiny3.html#modules",
    "title": "R Shiny - Part III",
    "section": "Modules",
    "text": "Modules\n\nParts of an app can be modularized and reused like mini apps\nThey can be used where needed like functions\nModules have their own namespace\nA module has a UI part and a server part\nDefine namespace using NS()\nModules can be nested"
  },
  {
    "objectID": "topics/Shiny/slide_shiny3.html#modules-1",
    "href": "topics/Shiny/slide_shiny3.html#modules-1",
    "title": "R Shiny - Part III",
    "section": "Modules",
    "text": "Modules\n#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| components: [editor, viewer]\ncounter_ui &lt;- function(id) {\n  ns &lt;- NS(id)\n  div(\n    actionButton(ns(\"btn\"), label = \"Counter\"),\n    textOutput(ns(\"txt\"))\n  )\n}\n\ncounter_server &lt;- function(id) {\n  moduleServer(id, function(input, output, session) {\n    count &lt;- reactiveVal(0)\n    output$txt &lt;- renderText({\n      count(count() + 1)\n      paste0(\"Counter \", id, \":\", count())\n    }) |&gt; bindEvent(input$btn)\n  })\n}\n\nshinyApp(\n  ui = fluidPage(\n    counter_ui(id = \"1\"),\n    counter_ui(id = \"2\")\n  ),\n\n  server = function(input, output, session) {\n    counter_server(\"1\")\n    counter_server(\"2\")\n  }\n)"
  },
  {
    "objectID": "topics/Shiny/slide_shiny3.html#debugging-optimizing",
    "href": "topics/Shiny/slide_shiny3.html#debugging-optimizing",
    "title": "R Shiny - Part III",
    "section": "Debugging & Optimizing",
    "text": "Debugging & Optimizing\n\n\nprint() statements\nInterrupt execution and inspect environment browser()\nVisualize relationships using reactlog"
  },
  {
    "objectID": "topics/Shiny/slide_shiny3.html#debugging-optimizing-1",
    "href": "topics/Shiny/slide_shiny3.html#debugging-optimizing-1",
    "title": "R Shiny - Part III",
    "section": "Debugging & Optimizing",
    "text": "Debugging & Optimizing\n\nAssess compute and RAM usage using profvis\n\nSimple profiling using shiny.tictoc"
  },
  {
    "objectID": "topics/Shiny/slide_shiny3.html#code-execution",
    "href": "topics/Shiny/slide_shiny3.html#code-execution",
    "title": "R Shiny - Part III",
    "section": "Code execution",
    "text": "Code execution\nApp launch\n\nui &lt;- fluidPage(textInput(\"text_input\",label=\"textInput\"), textOutput(\"text_output\"))\nserver &lt;- function(input,output) {\n  output$text_output &lt;- renderText({input$text_input})\n}\n\n\nNew user\n\nui &lt;- fluidPage(textInput(\"text_input\",label=\"textInput\"), textOutput(\"text_output\"))\nserver &lt;- function(input,output) {\n  output$text_output &lt;- renderText({input$text_input})\n}\n\n\n\nWidget update\n\nui &lt;- fluidPage(textInput(\"text_input\",label=\"textInput\"), textOutput(\"text_output\"))\nserver &lt;- function(input,output) {\n  output$text_output &lt;- renderText({input$text_input})\n}"
  },
  {
    "objectID": "topics/Shiny/slide_shiny3.html#theming",
    "href": "topics/Shiny/slide_shiny3.html#theming",
    "title": "R Shiny - Part III",
    "section": "Theming",
    "text": "Theming\n\n\n\nUse shinythemes\n\n\nlibrary(shinythemes)\nfluidPage(theme = shinytheme(\"cerulean\"))\n\n\nLive theme selector\n\n\nlibrary(shinythemes)\nfluidPage(theme = shinythemes::themeSelector())\n\nshinythemes\n\n#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| viewerHeight: 650\nwebr::install(\"shinythemes\")\n\nshinyApp(\n  ui = fluidPage(\n    shinythemes::themeSelector(),\n    sidebarPanel(\n      textInput(\"txt\", \"Text input:\", \"text here\"),\n      sliderInput(\"slider\", \"Slider input:\", 1, 100, 30),\n      actionButton(\"action\", \"Button\"),\n      actionButton(\"action2\", \"Button2\", class = \"btn-primary\")\n    ),\n    mainPanel(\n      tabsetPanel(\n        tabPanel(\"Tab 1\"),\n        tabPanel(\"Tab 2\")\n      )\n    )\n  ),\n  server = function(input, output) {}\n)"
  },
  {
    "objectID": "topics/Shiny/slide_shiny3.html#theming-1",
    "href": "topics/Shiny/slide_shiny3.html#theming-1",
    "title": "R Shiny - Part III",
    "section": "Theming",
    "text": "Theming\n\nUse bslib\n\n\nlibrary(bslib)\nui &lt;- page_fluid(\n  theme = bs_theme(version = 5)\n)\n\n\n\nLive theme selector\n\n\nlibrary(bslib)\nbs_theme_preview()\n\nbslib, Bootswatch"
  },
  {
    "objectID": "topics/Shiny/slide_shiny3.html#theming-using-custom-css",
    "href": "topics/Shiny/slide_shiny3.html#theming-using-custom-css",
    "title": "R Shiny - Part III",
    "section": "Theming using custom CSS",
    "text": "Theming using custom CSS\n\nInsert in the head\n\n\nui &lt;- fluidPage(\n  tags$head(\n    tags$style(HTML(\"\n      @import url('https://fonts.googleapis.com/css2?family=Yusei+Magic&display=swap');\n      h2 {\n        font-family: 'Yusei Magic', sans-serif;\n      }\"))\n  ))\n\n\n\nAdd styles directly\n\n\nui &lt;- fluidPage(h2(\"Old Faithful Geyser Data\", style = \"font-size: 2em;\"))\n\n\n\n\nLoad custom CSS file placed in www/\n\n\nui &lt;- fluidPage(\n  tags$head(tags$link(rel = \"stylesheet\", type = \"text/css\", href = \"styles.css\"))\n)\n\nCSS styling"
  },
  {
    "objectID": "topics/Shiny/slide_shiny3.html#deployment",
    "href": "topics/Shiny/slide_shiny3.html#deployment",
    "title": "R Shiny - Part III",
    "section": "Deployment",
    "text": "Deployment\n\nR scripts\n\nGitHub\nR Package\n\n\n\n\nContainer (Docker …)\n\n\n\n\nHosting\n\nShinyapps.io\nShiny Server (Free)\nShiny Server Pro\n\n\n\n\n\nAutomatically deploying to shinyapps.io"
  },
  {
    "objectID": "topics/Shiny/slide_shiny3.html#shinyapps.io",
    "href": "topics/Shiny/slide_shiny3.html#shinyapps.io",
    "title": "R Shiny - Part III",
    "section": "Shinyapps.io",
    "text": "Shinyapps.io\n\nlibrary(rsconnect)\nrsconnect::setAccountInfo(name=\"username\", token=\"HDFGT46YF7TDT6474G47\", secret=\"hdgTDF5FStgdkpJ\")\ndeployApp(appName=\"name\")\n\n\nShiny apps user guide, Shiny server guide"
  },
  {
    "objectID": "topics/Shiny/slide_shiny3.html#interactive-documents-quarto",
    "href": "topics/Shiny/slide_shiny3.html#interactive-documents-quarto",
    "title": "R Shiny - Part III",
    "section": "Interactive documents • Quarto",
    "text": "Interactive documents • Quarto\n---\ntitle: \"Interactive scatterplot\"\nformat: html\nserver: shiny\n---\n\n```{r}\nlibrary(shiny)\nlibrary(ggplot2)\n\nselectInput(\"x_var\", \"X-axis Variable:\", choices=names(mtcars), selected = \"hp\"),\nselectInput(\"y_var\", \"Y-axis Variable:\", choices=names(mtcars), selected = \"mpg\"),\nplotOutput(\"plot\")\n```\n\n```{r}\n#| context: server\noutput$plot &lt;- renderPlot({\n  ggplot(mtcars, aes_string(x = input$x_var, y = input$y_var)) +\n    geom_point() +\n    labs(title = \"Interactive mtcars scatterplot\", \n         x = input$x_var, \n         y = input$y_var)\n})\n```"
  },
  {
    "objectID": "topics/Shiny/slide_shiny3.html#interactive-documents-rmarkdown",
    "href": "topics/Shiny/slide_shiny3.html#interactive-documents-rmarkdown",
    "title": "R Shiny - Part III",
    "section": "Interactive documents • Rmarkdown",
    "text": "Interactive documents • Rmarkdown\n\nShiny can run in RMarkdown documents. Set YAML runtime: shiny.\n\n---\ntitle: Interactive document\noutput: html_document\nruntime: shiny\n---\n\nShiny widgets can be included directly\n\n```{r}\nselectInput('n_breaks',label='Number of bins:',choices=c(10,20,35,50),selected=20)\n```"
  },
  {
    "objectID": "topics/Shiny/slide_shiny3.html#interactive-documents",
    "href": "topics/Shiny/slide_shiny3.html#interactive-documents",
    "title": "R Shiny - Part III",
    "section": "Interactive documents",
    "text": "Interactive documents\n\nWhole shiny apps can be included directly\n\n```{r}\nshinyApp(\n  ui=fluidPage(),\n  server=function(input,output) {}\n)\n```\n\n\nHosted shiny apps can be embedded using &lt;iframe&gt;\n\n&lt;iframe src=\"https://user.shinyapps.io/app\"&gt;&lt;/iframe&gt;"
  },
  {
    "objectID": "topics/Shiny/slide_shiny3.html#other-topics",
    "href": "topics/Shiny/slide_shiny3.html#other-topics",
    "title": "R Shiny - Part III",
    "section": "Other topics",
    "text": "Other topics\n\nExtended task\nShiny unit tests\nApplications of action buttons\n\nProgress indicators\n\nShinylive\nShinyUIEditor\n…"
  },
  {
    "objectID": "topics/Shiny/slide_shiny3.html#extensions",
    "href": "topics/Shiny/slide_shiny3.html#extensions",
    "title": "R Shiny - Part III",
    "section": "Extensions",
    "text": "Extensions\n\nNaxstats: Repo collection of shiny extensions\nbslib: Bootswatch themes for shiny\nshinyurl: using URLs to recreate state of an app\nshinypod: Reusable modules\nshinyjs: Custom javascript functionality\nshinyWidgets: Bootstrap 3 custom widgets\nshinyBS: Bootstrap 3 widgets\nshinymanager: Authentication for shiny apps\n…"
  },
  {
    "objectID": "topics/Shiny/slide_shiny3.html#learning-community",
    "href": "topics/Shiny/slide_shiny3.html#learning-community",
    "title": "R Shiny - Part III",
    "section": "Learning & community",
    "text": "Learning & community\n\n\nDocumentation\n\nPosit Shiny home\nPosit Shiny articles\n\nBooks\n \n\nMastering Shiny Book\nEngineering Shiny Apps\nShiny Interfaces\nMastering shiny solutions\n\n\nConferences\n\nAppsilon: ShinyConf\nJumping Rivers: Shiny in Production\n\nBlogs & Podcasts\n\nPosit Shiny Blog\nShiny Developer Series"
  },
  {
    "objectID": "topics/Shiny/slide_shiny3.html#section",
    "href": "topics/Shiny/slide_shiny3.html#section",
    "title": "R Shiny - Part III",
    "section": "",
    "text": "Thank you. Questions?\nSlide inspirations: Roy Francis (NBIS, RaukR2024)"
  }
]